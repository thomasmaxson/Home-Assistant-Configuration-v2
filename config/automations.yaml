- id: '1632277288633'
  alias: 'Set Default: Theme on Load'
  description: ''
  trigger:
  - platform: homeassistant
    event: start
  condition: []
  action:
  - service: frontend.set_theme
    data:
      name: tihiti
  mode: single
- id: '1651337763691'
  alias: Remove Snapshots, Older than 7 Days
  description: ''
  trigger:
  - platform: time
    at: 02:30:00
  condition: []
  action:
  - service: delete.files_in_folder
    data:
      folder: /config/www/snapshots/
      time: 604800
  mode: single
- id: '1721692858596'
  alias: Reload Alexa Media Player after HA starts
  description: Reload of one device is enough to start integration
  trigger:
  - platform: homeassistant
    event: start
  condition: []
  action:
  - delay:
      hours: 0
      minutes: 1
      seconds: 0
      milliseconds: 0
  - alias: Reload Alexa Media Player integration - Kitchen
    service: homeassistant.reload_config_entry
    data: {}
    enabled: true
    target:
      entity_id: media_player.echo_kitchen
  mode: single
- id: '1726437443953'
  alias: Bedroom 4 (Tom's Office)
  description: ''
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.door_bedroom_4
    from: 'off'
    to: 'on'
    id: Door Did OPEN
  - platform: state
    entity_id:
    - binary_sensor.door_bedroom_4
    to: 'on'
    id: Door has been OPENED
    for:
      hours: 0
      minutes: 0
      seconds: 20
  - platform: state
    entity_id:
    - binary_sensor.door_bedroom_4
    from: 'on'
    to: 'off'
    id: Door Did CLOSE
  - platform: state
    entity_id:
    - binary_sensor.door_bedroom_4
    to: 'off'
    id: Door has been CLOSED
    for:
      hours: 0
      minutes: 0
      seconds: 20
  condition: []
  action:
  - alias: Room Activity Actions
    choose:
    - conditions:
      - condition: trigger
        id:
        - Door Did OPEN
        enabled: true
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          message: Tom's Office door has been opened.
          notification_type: Activity, Door
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
      - alias: If Allowed Run Automations
        if:
        - condition: state
          entity_id: input_boolean.automation_bedroom_4_door_open_close
          state: 'on'
        then:
        - action: light.turn_on
          metadata: {}
          data: {}
          target:
            entity_id: light.bedroom_4_lights
          alias: Turn ON, Immediately
      alias: When Door is OPENED
    - conditions:
      - condition: trigger
        id:
        - Door has been OPENED
        enabled: true
      - condition: time
        after: 05:00:00
        before: '15:59:59'
      sequence:
      - alias: If Allowed Run Automations
        if:
        - condition: state
          entity_id: input_boolean.automation_bedroom_4_door_open_close
          state: 'on'
        then:
        - action: fan.turn_on
          target:
            entity_id:
            - fan.ceiling_fan_bedroom_4
          data: {}
          enabled: true
        - action: cover.open_cover_tilt
          target:
            entity_id:
            - cover.blinds_bedroom_4
          data: {}
          enabled: true
        enabled: true
      alias: When Door has been OPENED
    - conditions:
      - condition: trigger
        id:
        - Door Did CLOSE
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          message: Tom's Office door has been closed.
          notification_type: type_activity_door_interior
          interruption_level: active
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
      - alias: If Allowed Run Automations
        if:
        - condition: state
          entity_id: input_boolean.automation_bedroom_4_door_open_close
          state: 'on'
        then:
        - action: light.turn_off
          target:
            entity_id:
            - light.bedroom_4_lights_all
          data: {}
          alias: Turn OFF, Immediately
        enabled: true
      alias: When Door is CLOSED
    - conditions:
      - condition: trigger
        id:
        - Door has been CLOSED
      - condition: time
        after: '16:00:00'
        before: '23:59:59'
      sequence:
      - alias: If Allowed Run Automations
        if:
        - condition: state
          entity_id: input_boolean.automation_bedroom_4_door_open_close
          state: 'on'
        then:
        - action: fan.turn_off
          metadata: {}
          data: {}
          target:
            entity_id: fan.ceiling_fan_bedroom_4
        - action: cover.set_cover_tilt_position
          target:
            entity_id:
            - cover.blinds_bedroom_4
          data:
            tilt_position: 100
        enabled: true
      alias: When Door has been CLOSED
  mode: queued
  max: 10
- id: '1726446073490'
  alias: 3) Run at Bedtime
  description: ''
  trigger:
  - platform: sun
    event: sunset
    offset: 04:00:00
  - platform: time
    at: '22:15:00'
  - platform: time
    at: 00:00:00
  - platform: time
    at: 01:30:00
  - platform: time
    at: 03:00:00
  - platform: time
    at: 04:30:00
  - platform: state
    entity_id:
    - input_button.trigger_bedtime_automations_run
  condition:
  - condition: state
    entity_id: input_boolean.bedtime_automations_run
    state: 'on'
  action:
  - action: input_boolean.turn_off
    metadata: {}
    data: {}
    target:
      entity_id: input_boolean.sunset_automations_active
  - action: cover.set_cover_tilt_position
    target:
      entity_id:
      - cover.blinds_kitchen
      - cover.blinds_bedroom_4
    data:
      tilt_position: 100
  - if:
    - condition: state
      entity_id: binary_sensor.presence_living_room
      state: 'off'
    then:
    - action: light.turn_off
      metadata: {}
      data: {}
      target:
        entity_id:
        - light.foyer_exterior_entryway
        - light.backyard_string_lights
        - light.living_room_corner_lamp
        - light.foyer_ceiling_ledge
        - light.cabinet_upper_lights
  mode: queued
  max: 10
- id: '1726488231167'
  alias: 2) Run at Sunset
  description: ''
  trigger:
  - platform: sun
    event: sunset
    offset: -00:30:00
  - platform: state
    entity_id:
    - input_button.trigger_sunset_automations_run
  condition:
  - condition: state
    entity_id: input_boolean.sunset_automations_run
    state: 'on'
  action:
  - action: input_boolean.turn_on
    target:
      entity_id:
      - input_boolean.sunset_automations_active
    data: {}
    alias: Flag ACTIVATE
  - alias: Blinds CLOSE
    action: cover.set_cover_tilt_position
    target:
      entity_id:
      - cover.blinds_kitchen
    data:
      tilt_position: 100
  - alias: Lights Fade ON
    action: light.turn_on
    metadata: {}
    data:
      transition: 300
      brightness_pct: 100
    target:
      entity_id:
      - light.garage_exterior
      - light.front_yard_accent_lights
  - alias: If Residents OR Guests are HOME
    if:
    - condition: or
      conditions:
      - condition: state
        entity_id: group.residents
        state: home
      - condition: state
        entity_id: input_boolean.guests_home
        state: 'on'
    then:
    - alias: Lights Turn ON
      action: light.turn_on
      metadata: {}
      data: {}
      target:
        entity_id:
        - light.backyard_string_lights
        - light.foyer_exterior_entryway
        - light.foyer_ceiling_ledge
    - alias: Lights Fade ON
      if:
      - condition: state
        entity_id: binary_sensor.presence_living_room
        state: 'on'
      then:
      - action: light.turn_on
        metadata: {}
        data:
          transition: 60
          brightness_pct: 100
        target:
          entity_id: light.living_room_corner_lamp
  - alias: If Gouda is HOME
    if:
    - condition: state
      entity_id: input_boolean.status_dog_gouda
      state: 'on'
    then:
    - action: light.turn_on
      metadata: {}
      data: {}
      target:
        entity_id:
        - light.foyer_ceiling_ledge
      alias: Lights Turn ON
  mode: queued
  max: 10
- id: '1726489353796'
  alias: 4) Run at Midnight
  description: ''
  trigger:
  - platform: time
    at: 00:00:00
  - platform: time
    at: 01:30:00
  - platform: time
    at: 03:00:00
  - platform: time
    at: 04:30:00
  - platform: state
    entity_id:
    - input_button.trigger_midnight_automations_run
  condition:
  - condition: state
    entity_id: input_boolean.midnight_automations_run
    state: 'on'
  action:
  - action: light.turn_off
    metadata: {}
    data: {}
    target:
      entity_id: light.front_yard_accent_lights
    alias: Light Turn OFF
  - alias: Garage Lights Turn OFF
    if:
    - condition: state
      entity_id: binary_sensor.presence_garage
      state: 'off'
    then:
    - action: light.turn_off
      metadata: {}
      data: {}
      target:
        entity_id:
        - light.garage_ceiling
        - light.garage_door_light
  mode: queued
  max: 10
- id: '1726492043983'
  alias: Manage Johan Tablet Charging Cycle
  description: ''
  trigger:
  - platform: time_pattern
    minutes: '00'
  - platform: time_pattern
    minutes: '30'
  condition: []
  action:
  - choose:
    - conditions:
      - condition: numeric_state
        entity_id: sensor.fire_tablet_battery
        below: 20
      sequence:
      - action: light.turn_on
        metadata: {}
        data: {}
        target:
          entity_id: light.tablet_plug
      alias: Charger Turn ON (Below 20%)
    - conditions:
      - condition: numeric_state
        entity_id: sensor.fire_tablet_battery
        above: 80
      sequence:
      - action: light.turn_off
        target:
          entity_id:
          - light.tablet_plug
        data: {}
      alias: Charger Turn OFF (Above 80%)
    alias: Manage Tablet Charging State
  mode: single
- id: '1726535060323'
  alias: Living Room Sliding Door
  description: ''
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.door_living
    from: 'off'
    to: 'on'
    id: Door Did OPEN
  - platform: state
    entity_id:
    - binary_sensor.door_living
    from: 'on'
    to: 'off'
    id: Door Did CLOSE
  - platform: state
    entity_id:
    - binary_sensor.door_living
    to: 'off'
    id: Door Has Been CLOSED
    for:
      hours: 0
      minutes: 20
      seconds: 0
  condition: []
  action:
  - alias: Door OPENS, CLOSES, or has been CLOSED
    choose:
    - conditions:
      - condition: trigger
        id:
        - Door Did OPEN
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          message: The Living Room sliding door has been opened.
          notification_type: type_activity_door_exterior
          interruption_level: active
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
      - if:
        - condition: state
          entity_id: input_boolean.automation_living_room_door_open_close
          state: 'on'
        - condition: sun
          before: sunrise
          after: sunset
        - condition: state
          entity_id: input_boolean.sunset_automations_active
          state: 'off'
        then:
        - action: light.turn_on
          metadata: {}
          data: {}
          target:
            entity_id: light.backyard_string_lights
        alias: If Allowed Run Automations
      alias: When Door is OPENED
    - conditions:
      - condition: trigger
        id:
        - Door Did CLOSE
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          message: The Living Room sliding door has been closed.
          notification_type: type_activity_door_exterior
          interruption_level: active
          notification_actions:
          - action: LIGHTS_OFF_BACKYARD
            title: Turn Off Lights
            icon: sfsymbols:light.ribbon
            destructive: false
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
      alias: When Door is CLOSED
    - conditions:
      - condition: trigger
        id:
        - Door Has Been CLOSED
      sequence:
      - if:
        - condition: state
          entity_id: input_boolean.automation_living_room_door_open_close
          state: 'on'
        - condition: sun
          before: sunrise
          after: sunset
        - condition: state
          entity_id: input_boolean.sunset_automations_active
          state: 'off'
        then:
        - action: light.turn_off
          target:
            entity_id:
            - light.backyard_string_lights
          data: {}
      alias: When Door Has Been CLOSED
  mode: single
- id: '1726535481170'
  alias: Garage
  description: ''
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.door_garage
    from: 'off'
    to: 'on'
    id: Interior Door did OPEN
  - platform: state
    entity_id:
    - binary_sensor.door_garage
    from: 'on'
    to: 'off'
    id: Interior Door did CLOSE
  - platform: state
    entity_id:
    - binary_sensor.door_garage
    to: 'off'
    id: Interior Door has been CLOSED
    for:
      hours: 0
      minutes: 5
      seconds: 0
  - platform: time_pattern
    minutes: '00'
    id: 0th minute of the hour
  - platform: time_pattern
    minutes: '30'
    id: 30th minute of the hour
  - platform: state
    entity_id:
    - fan.custom_garage_fan
    from: 'off'
    to: 'on'
    for:
      hours: 1
      minutes: 30
      seconds: 0
    id: Garage Fan Left ON
  condition: []
  action:
  - alias: Room Activity Actions
    choose:
    - conditions:
      - condition: trigger
        id:
        - Interior Door did OPEN
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          notification_type: type_activity_door_exterior
          interruption_level: active
          message: The Interior Garage Door was opened.
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
      - alias: If Allowed Run Automations
        if:
        - condition: state
          entity_id: cover.garage_door
          state: closed
        then:
        - action: light.turn_on
          metadata: {}
          data: {}
          target:
            entity_id:
            - light.garage_ceiling
            - light.garage_door_light
      alias: When Interior Door is OPENED
    - conditions:
      - condition: trigger
        id:
        - Interior Door did CLOSE
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          notification_type: type_activity_door_exterior
          interruption_level: active
          message: The Interior Garage Door was closed.
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
      - alias: If Allowed Run Automations
        if:
        - condition: and
          conditions:
          - condition: state
            entity_id: cover.garage_door
            state: closed
          - condition: state
            entity_id: binary_sensor.presence_garage
            state: 'off'
        then:
        - action: light.turn_off
          metadata: {}
          data: {}
          target:
            entity_id:
            - light.garage_ceiling
            - light.garage_door_light
      alias: When Interior Door is CLOSED
    - conditions:
      - condition: trigger
        id:
        - Interior Door has been CLOSED
      sequence:
      - alias: If Allowed Run Automations
        if:
        - condition: and
          conditions:
          - condition: state
            entity_id: cover.garage_door
            state: closed
          - condition: state
            entity_id: binary_sensor.presence_garage
            state: 'off'
        then:
        - action: light.turn_off
          metadata: {}
          data: {}
          target:
            entity_id:
            - light.garage_ceiling
            - light.garage_door_light
      alias: When Interior Door Has Been CLOSED
    - conditions:
      - condition: trigger
        id:
        - 0th minute of the hour
        - 30th minute of the hour
      sequence:
      - if:
        - condition: sun
          after: sunset
          before: sunrise
        - condition: state
          entity_id: cover.garage_door
          state: open
        then:
        - alias: If Allowed Send Notification
          if:
          - condition: state
            entity_id: input_boolean.snooze_notify_household_activity
            state: 'off'
          then:
          - action: script.push_notification_to_ios_devices
            metadata: {}
            data:
              notification_type: type_warning
              interruption_level: active
              message: Oops! The Garage door was left open.
              notification_actions:
              - action: CLOSE_GARAGE_DOOR
                title: Close Garage Door
                icon: sfsymbols:door.garage.closed
              - action: SNOOZE_TODAY_GARAGE_DOOR
                title: Snooze
                icon: sfsymbols:xmark
                destructive: true
      alias: When Cover Door Has Been OPEN
    - conditions:
      - condition: trigger
        id:
        - Garage Fan Left ON
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          notification_type: type_warning
          interruption_level: active
          message: The Garage Fan was left on.
          notification_actions:
          - action: FAN_OFF_GARAGE
            title: Turn Fan Off
            icon: sfsymbols:fanblades.slash.fan
      alias: When Garage Fan Left ON
  mode: single
- id: '1726536282569'
  alias: Recording Type, Exterior Enable/Disable
  description: ''
  trigger:
  - platform: state
    entity_id:
    - input_boolean.enable_exterior_camera_recording
    from: 'off'
    to: 'on'
    id: Recording ENABLED
  - platform: state
    entity_id:
    - input_boolean.enable_exterior_camera_recording
    from: 'on'
    to: 'off'
    id: Recording DISABLED
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Recording ENABLED
      sequence:
      - action: select.select_option
        metadata: {}
        data:
          option: Always
        target:
          entity_id:
          - select.camera_ext_backyard_northeast_recording_mode
          - select.camera_ext_backyard_southeast_recording_mode
          - select.camera_ext_doorbell_recording_mode
          - select.ext_front_yard_northeast_recording_mode
          - select.camera_ext_front_yard_southeast_recording_mode
          - select.camera_ext_side_yard_north_recording_mode
          - select.camera_ext_side_yard_south_recording_mode
      alias: Recording ENABLE
    - conditions:
      - condition: trigger
        id:
        - Recording DISABLED
      sequence:
      - action: select.select_option
        metadata: {}
        data:
          option: Never
        target:
          entity_id:
          - select.camera_ext_backyard_northeast_recording_mode
          - select.camera_ext_backyard_southeast_recording_mode
          - select.camera_ext_doorbell_recording_mode
          - select.ext_front_yard_northeast_recording_mode
          - select.camera_ext_front_yard_southeast_recording_mode
          - select.camera_ext_side_yard_north_recording_mode
          - select.camera_ext_side_yard_south_recording_mode
      alias: Recording DISABLE
  mode: single
- id: '1726536945550'
  alias: Recording Type, Motion Enable/Disable
  description: ''
  trigger:
  - platform: state
    entity_id:
    - input_boolean.enable_motion_camera_recording
    from: 'off'
    to: 'on'
    id: Recording ENABLED
  - platform: state
    entity_id:
    - input_boolean.enable_motion_camera_recording
    from: 'on'
    to: 'off'
    id: Recording DISABLED
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Recording ENABLED
      sequence:
      - action: select.select_option
        metadata: {}
        data:
          option: Always
        target:
          entity_id: select.camera_ext_garage_recording_mode
      alias: Recording ENABLE
    - conditions:
      - condition: trigger
        id:
        - Recording DISABLED
      sequence:
      - action: select.select_option
        metadata: {}
        data:
          option: Motion
        target:
          entity_id: select.camera_ext_garage_recording_mode
      alias: Recording DISABLE
  mode: single
- id: '1726537184366'
  alias: Recording Mode, Interior Enable/Disable
  description: ''
  trigger:
  - platform: state
    entity_id:
    - input_boolean.enable_interior_camera_recording
    from: 'off'
    to: 'on'
    id: Recording ENABLED
  - platform: state
    entity_id:
    - input_boolean.enable_interior_camera_recording
    from: 'on'
    to: 'off'
    id: Recording DISABLED
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Recording ENABLED
      sequence:
      - action: select.select_option
        metadata: {}
        data:
          option: Always
        target:
          entity_id:
          - select.camera_int_bdr1_recording_mode
          - select.camera_int_foyer_recording_mode
          - select.camera_int_kitchen_recording_mode
          - select.camera_int_living_room_recording_mode
          - select.camera_int_dining_room_recording_mode
          - select.camera_interior_office_tom_recording_mode
      alias: Recording ENABLE
    - conditions:
      - condition: trigger
        id:
        - Recording DISABLED
      sequence:
      - action: select.select_option
        metadata: {}
        data:
          option: Never
        target:
          entity_id:
          - select.camera_int_bdr1_recording_mode
          - select.camera_int_foyer_recording_mode
          - select.camera_int_kitchen_recording_mode
          - select.camera_int_living_room_recording_mode
          - select.camera_int_dining_room_recording_mode
          - select.camera_interior_office_tom_recording_mode
      alias: Recording DISABLE
  mode: single
- id: '1726537434214'
  alias: Privacy Mode, Interior Enabled/Disabled
  description: ''
  trigger:
  - platform: state
    entity_id:
    - input_boolean.camera_int_privacy_mode
    from: 'off'
    to: 'on'
    id: Privacy ENABLED
  - platform: state
    entity_id:
    - input_boolean.camera_int_privacy_mode
    from: 'on'
    to: 'off'
    id: Privacy DISABLED
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Privacy ENABLED
      sequence:
      - action: switch.turn_on
        target:
          entity_id:
          - switch.camera_int_bdr1_privacy_mode
          - switch.camera_interior_office_tom_privacy_mode
        data: {}
      alias: Recording ENABLE
    - conditions:
      - condition: trigger
        id:
        - Privacy DISABLED
      sequence:
      - action: switch.turn_off
        target:
          entity_id:
          - switch.camera_int_bdr1_privacy_mode
          - switch.camera_interior_office_tom_privacy_mode
        data: {}
      alias: Recording DISABLE
  mode: single
- id: '1726537785081'
  alias: Interior Cameras, Disable
  description: ''
  trigger:
  - platform: zone
    entity_id: person.thomas
    zone: zone.regency_lakes
    event: enter
  - platform: zone
    entity_id: person.thomas
    zone: zone.home
    event: enter
  - platform: zone
    entity_id: person.jessica
    zone: zone.regency_lakes
    event: enter
  - platform: zone
    entity_id: person.jessica
    zone: zone.home
    event: enter
  - platform: state
    entity_id:
    - cover.garage_door
    from: closed
    to: opening
  condition: []
  action:
  - action: input_boolean.turn_off
    metadata: {}
    data: {}
    target:
      entity_id:
      - input_boolean.enable_interior_camera_recording
      - input_boolean.enable_motion_camera_recording
  - action: input_boolean.turn_on
    data: {}
    target:
      entity_id: input_boolean.camera_int_privacy_mode
  mode: single
- id: '1726537916764'
  alias: Interior Cameras, Enable
  description: ''
  trigger:
  - platform: zone
    entity_id: person.thomas
    zone: zone.regency_lakes
    event: leave
    id: THOMAS Leaves Neighborhood
  - platform: zone
    entity_id: person.jessica
    zone: zone.regency_lakes
    event: leave
    id: JESSICA Leaves Neighborhood
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - THOMAS Leaves Neighborhood
      - condition: not
        conditions:
        - condition: state
          entity_id: person.jessica
          state: home
        - condition: state
          entity_id: person.jessica
          state: Regency Lakes
      sequence:
      - action: input_boolean.turn_on
        metadata: {}
        data: {}
        target:
          entity_id:
          - input_boolean.enable_interior_camera_recording
          - input_boolean.enable_motion_camera_recording
      - action: input_boolean.turn_off
        data: {}
        target:
          entity_id: input_boolean.camera_int_privacy_mode
    - conditions:
      - condition: trigger
        id:
        - JESSICA Leaves Neighborhood
      - condition: not
        conditions:
        - condition: state
          entity_id: person.thomas
          state: home
        - condition: state
          entity_id: person.thomas
          state: Regency Lakes
      sequence:
      - action: input_boolean.turn_on
        metadata: {}
        data: {}
        target:
          entity_id:
          - input_boolean.enable_interior_camera_recording
          - input_boolean.enable_motion_camera_recording
      - action: input_boolean.turn_off
        data: {}
        target:
          entity_id: input_boolean.camera_int_privacy_mode
  mode: single
- id: '1726566073863'
  alias: Garage Door Opens, Recording Start
  description: ''
  trigger:
  - platform: state
    entity_id:
    - cover.garage_door
    to: opening
  condition: []
  action:
  - action: input_boolean.turn_on
    metadata: {}
    data: {}
    target:
      entity_id: input_boolean.enable_motion_camera_recording
  mode: single
- id: '1726566181597'
  alias: Garage Door Opens, Recording Stop
  description: ''
  trigger:
  - platform: state
    entity_id:
    - cover.garage_door
    to: closed
  condition: []
  action:
  - delay:
      hours: 0
      minutes: 2
      seconds: 0
      milliseconds: 0
  - action: input_boolean.turn_off
    metadata: {}
    data: {}
    target:
      entity_id: input_boolean.enable_motion_camera_recording
  mode: single
- id: '1726566319798'
  alias: Laundry Room
  description: ''
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.door_laundry
    from: 'off'
    to: 'on'
    id: Door did OPEN
  - platform: state
    entity_id:
    - binary_sensor.door_laundry
    to: 'on'
    id: Door has been OPEN for 5 min
    for:
      hours: 0
      minutes: 5
      seconds: 0
  - platform: state
    entity_id:
    - binary_sensor.door_laundry
    to: 'on'
    id: Door has been OPEN for 15 min
    for:
      hours: 0
      minutes: 15
      seconds: 0
  - platform: state
    entity_id:
    - binary_sensor.door_laundry
    from: 'on'
    to: 'off'
    id: Door did CLOSE
    for:
      hours: 0
      minutes: 0
      seconds: 10
  - platform: state
    entity_id:
    - binary_sensor.motion_laundry_room
    from: 'off'
    to: 'on'
    id: Presence was DETECTED
  - platform: state
    entity_id:
    - binary_sensor.motion_laundry_room
    from: 'on'
    to: 'off'
    id: Presence was CLEARED
  condition: []
  action:
  - alias: Room Activity Actions
    choose:
    - conditions:
      - condition: trigger
        id:
        - Door did OPEN
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          message: The Laundry Room door has been opened.
          notification_type: type_activity_door_interior
          interruption_level: active
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
      - alias: If Allowed Run Automations
        if:
        - condition: state
          entity_id: input_boolean.automation_laundry_room_door_open_close
          state: 'on'
        then:
        - action: light.turn_on
          metadata: {}
          data:
            brightness_pct: 100
          target:
            entity_id: light.laundry_ceiling_light
      alias: When Door is OPENED
    - conditions:
      - condition: and
        conditions:
        - condition: trigger
          id:
          - Door has been OPEN for 5 min
        - condition: state
          entity_id: input_boolean.automation_laundry_room_door_open_close
          state: 'on'
        - condition: state
          entity_id: binary_sensor.door_garage
          state: 'off'
      sequence:
      - action: light.turn_on
        target:
          entity_id:
          - light.laundry_ceiling_light
        data: {}
      alias: When Door Has Been OPEN for 5 min
    - conditions:
      - condition: and
        conditions:
        - condition: trigger
          id:
          - Door has been CLOSED for 15 min
        - condition: state
          entity_id: input_boolean.automation_laundry_room_door_open_close
          state: 'on'
        - condition: state
          entity_id: binary_sensor.door_garage
          state: 'off'
      sequence:
      - action: light.turn_off
        target:
          entity_id:
          - light.laundry_ceiling_light
        data: {}
      alias: When Door Has Been OPEN for 15 min
    - conditions:
      - condition: trigger
        id:
        - Door did CLOSE
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          message: The Laundry Room door has been closed.
          notification_type: type_activity_door_interior
          interruption_level: active
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
      - if:
        - condition: state
          entity_id: input_boolean.automation_laundry_room_door_open_close
          state: 'on'
        - condition: state
          entity_id: binary_sensor.door_garage
          state: 'off'
        then:
        - action: light.turn_off
          metadata: {}
          data: {}
          target:
            entity_id: light.laundry_ceiling_light
      alias: When Door is CLOSED
    - conditions:
      - condition: and
        conditions:
        - condition: trigger
          id:
          - Presence was DETECTED
        - condition: state
          entity_id: input_boolean.automation_laundry_room_door_open_close
          state: 'on'
        - condition: or
          conditions:
          - condition: state
            entity_id: binary_sensor.door_laundry
            state: 'on'
          - condition: state
            entity_id: binary_sensor.door_garage
            state: 'on'
      sequence:
      - action: light.turn_on
        metadata: {}
        data:
          brightness_pct: 100
        target:
          entity_id: light.laundry_ceiling_light
      alias: When Motion DETECTED
    - conditions:
      - condition: and
        conditions:
        - condition: trigger
          id:
          - Presence was CLEARED
        - condition: state
          entity_id: input_boolean.automation_laundry_room_door_open_close
          state: 'on'
        - condition: state
          entity_id: binary_sensor.door_laundry
          state: 'off'
        - condition: state
          entity_id: binary_sensor.door_garage
          state: 'off'
      sequence:
      - action: light.turn_off
        target:
          entity_id:
          - light.laundry_ceiling_light
        data: {}
      alias: When Motion CLEARED
  mode: single
- id: '1726959593051'
  alias: 1) Run at Sunrise
  description: ''
  trigger:
  - platform: sun
    event: sunrise
  - platform: state
    entity_id:
    - input_button.trigger_sunrise_automations_run
  condition:
  - condition: state
    entity_id: input_boolean.sunrise_automations_run
    state: 'on'
  action:
  - alias: Flag ACTIVATE
    action: input_boolean.turn_on
    data: {}
    target:
      entity_id: input_boolean.sunrise_automations_run
  - alias: Lights Turn OFF
    action: light.turn_off
    data: {}
    target:
      entity_id:
      - light.foyer_exterior_entryway
      - light.garage_exterior
      - light.front_yard_accent_lights
      - light.backyard_string_lights
      - light.foyer_under_table
  - alias: If Residents or Guests are HOME
    if:
    - condition: or
      conditions:
      - condition: state
        entity_id: group.residents
        state: home
      - condition: state
        entity_id: input_boolean.guests_home
        state: 'on'
    then:
    - alias: Blinds OPEN
      action: cover.open_cover_tilt
      target:
        entity_id:
        - cover.blinds_kitchen
      data: {}
  mode: queued
  max: 10
- id: '1726962604115'
  alias: Bedroom 2, Primary Lights (Lutron Pico, 3 Button)
  description: ''
  trigger:
  - platform: device
    device_id: 1043e20fa58cfb8c3ee51209b5ce0fc2
    domain: lutron_caseta
    type: press
    subtype: 'on'
    id: Button Press ON
  - platform: device
    device_id: 1043e20fa58cfb8c3ee51209b5ce0fc2
    domain: lutron_caseta
    type: press
    subtype: 'off'
    id: Button Press OFF
  - platform: device
    device_id: 1043e20fa58cfb8c3ee51209b5ce0fc2
    domain: lutron_caseta
    type: press
    subtype: stop
    id: Button Press STOP
  - platform: device
    device_id: 1043e20fa58cfb8c3ee51209b5ce0fc2
    domain: lutron_caseta
    type: press
    subtype: raise
    id: Button Press RAISE
  - platform: device
    device_id: 1043e20fa58cfb8c3ee51209b5ce0fc2
    domain: lutron_caseta
    type: press
    subtype: lower
    id: Button Press LOWER
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Button Press ON
      sequence:
      - action: light.turn_on
        metadata: {}
        data: {}
        target:
          entity_id: light.bedroom_2_bedside_lamps
      alias: Do Turn ON
    - conditions:
      - condition: trigger
        id:
        - Button Press OFF
      sequence:
      - action: light.turn_off
        data: {}
        target:
          entity_id: light.bedroom_2_bedside_lamps
      alias: Do Turn OFF
    - conditions:
      - condition: trigger
        id:
        - Button Press STOP
      sequence:
      - action: light.toggle
        data: {}
        target:
          entity_id: light.bedroom_2_bedside_lamps
      alias: Do STOP
    - conditions:
      - condition: trigger
        id:
        - Button Press RAISE
      sequence:
      - action: light.turn_on
        metadata: {}
        data:
          brightness_step_pct: 10
        target:
          entity_id: light.bedroom_2_bedside_lamps
      alias: Do RAISE
    - conditions:
      - condition: trigger
        id:
        - Button Press LOWER
      sequence:
      - action: light.turn_on
        metadata: {}
        data:
          brightness_step_pct: -10
        target:
          entity_id: light.bedroom_2_bedside_lamps
      alias: Do LOWER
  mode: queued
  max: 10
- id: '1726964420291'
  alias: Bedroom 2, Ceiling Light (Lutron Pico, Paddle)
  description: ''
  trigger:
  - platform: device
    device_id: d2694481a3b250b9ed95e4645eb6e40b
    domain: lutron_caseta
    type: press
    subtype: Button 0
    id: Button Press ON
  - platform: device
    device_id: d2694481a3b250b9ed95e4645eb6e40b
    domain: lutron_caseta
    type: press
    subtype: Button 2
    id: Button Press OFF
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Button Press ON
      sequence:
      - action: light.turn_on
        metadata: {}
        data: {}
        target:
          entity_id: light.ceiling_fan_bedroom_2
      alias: Do Turn ON
    - conditions:
      - condition: trigger
        id:
        - Button Press OFF
      sequence:
      - action: light.turn_off
        data: {}
        target:
          entity_id: light.ceiling_fan_bedroom_2
      alias: Do Turn OFF
  mode: queued
  max: 10
- id: '1726964608307'
  alias: Bedroom 2, Ceiling Fan (Lutron Pico, 3 Button)
  description: ''
  trigger:
  - platform: device
    device_id: a27d9dc278719e77bd1086e297be14fa
    domain: lutron_caseta
    type: press
    subtype: 'on'
    id: Button Press ON
  - platform: device
    device_id: a27d9dc278719e77bd1086e297be14fa
    domain: lutron_caseta
    type: press
    subtype: 'off'
    id: Button Press OFF
  - platform: device
    device_id: a27d9dc278719e77bd1086e297be14fa
    domain: lutron_caseta
    type: press
    subtype: stop
    id: Button Press STOP
  - platform: device
    device_id: a27d9dc278719e77bd1086e297be14fa
    domain: lutron_caseta
    type: press
    subtype: raise
    id: Button Press RAISE
  - platform: device
    device_id: a27d9dc278719e77bd1086e297be14fa
    domain: lutron_caseta
    type: press
    subtype: lower
    id: Button Press LOWER
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Button Press ON
      sequence:
      - action: fan.turn_on
        target:
          entity_id: fan.ceiling_fan_bedroom_2
        data: {}
      alias: Do Turn ON
    - conditions:
      - condition: trigger
        id:
        - Button Press OFF
      sequence:
      - action: fan.turn_off
        target:
          entity_id: fan.ceiling_fan_bedroom_2
        data: {}
      alias: Do Turn OFF
    - conditions:
      - condition: trigger
        id:
        - Button Press STOP
      sequence:
      - action: fan.toggle
        target:
          entity_id: fan.ceiling_fan_bedroom_2
        data: {}
      alias: Do STOP
    - conditions:
      - condition: trigger
        id:
        - Button Press RAISE
      sequence:
      - action: fan.increase_speed
        target:
          entity_id: fan.ceiling_fan_bedroom_2
        data:
          percentage_step: 34
      alias: Do RAISE
    - conditions:
      - condition: trigger
        id:
        - Button Press LOWER
      sequence:
      - action: fan.decrease_speed
        target:
          entity_id: fan.ceiling_fan_bedroom_2
        data:
          percentage_step: 34
      alias: Do LOWER
  mode: queued
  max: 10
- id: '1726964888976'
  alias: Bedroom 4, Ceiling Fan (Lutron Pico, 3 Button)
  description: ''
  trigger:
  - platform: device
    device_id: 547912e5c1b5de70af4e7159db0b75cb
    domain: lutron_caseta
    type: press
    subtype: 'on'
    id: Button Press ON
  - platform: device
    device_id: 547912e5c1b5de70af4e7159db0b75cb
    domain: lutron_caseta
    type: press
    subtype: 'off'
    id: Button Press OFF
  - platform: device
    device_id: 547912e5c1b5de70af4e7159db0b75cb
    domain: lutron_caseta
    type: press
    subtype: stop
    id: Button Press STOP
  - platform: device
    device_id: 547912e5c1b5de70af4e7159db0b75cb
    domain: lutron_caseta
    type: press
    subtype: raise
    id: Button Press RAISE
  - platform: device
    device_id: 547912e5c1b5de70af4e7159db0b75cb
    domain: lutron_caseta
    type: press
    subtype: lower
    id: Button Press LOWER
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Button Press ON
      sequence:
      - action: fan.turn_on
        data: {}
        target:
          entity_id: fan.ceiling_fan_bedroom_4
      alias: Do Turn ON
    - conditions:
      - condition: trigger
        id:
        - Button Press OFF
      sequence:
      - action: fan.turn_off
        data: {}
        target:
          entity_id: fan.ceiling_fan_bedroom_4
      alias: Do Turn OFF
    - conditions:
      - condition: trigger
        id:
        - Button Press STOP
      sequence:
      - action: fan.toggle
        data: {}
        target:
          entity_id: fan.ceiling_fan_bedroom_4
      alias: Do STOP
    - conditions:
      - condition: trigger
        id:
        - Button Press RAISE
      sequence:
      - action: fan.increase_speed
        data:
          percentage_step: 34
        target:
          entity_id: fan.ceiling_fan_bedroom_4
      alias: Do RAISE
    - conditions:
      - condition: trigger
        id:
        - Button Press LOWER
      sequence:
      - action: fan.decrease_speed
        data:
          percentage_step: 34
        target:
          entity_id: fan.ceiling_fan_bedroom_4
      alias: Do LOWER
  mode: queued
  max: 10
- id: '1726965327841'
  alias: Bedroom 4, Primary Lights (Lutron Pico, Paddle)
  description: ''
  trigger:
  - platform: device
    device_id: b3de283035b788f368ee8333e37de457
    domain: lutron_caseta
    type: press
    subtype: Button 0
    id: Button Press ON
  - platform: device
    device_id: b3de283035b788f368ee8333e37de457
    domain: lutron_caseta
    type: press
    subtype: Button 2
    id: Button Press OFF
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Button Press ON
      sequence:
      - action: light.turn_on
        metadata: {}
        data:
          brightness_pct: 40
        target:
          entity_id: light.bedroom_4_lights
      alias: Do Turn ON
    - conditions:
      - condition: trigger
        id:
        - Button Press OFF
      sequence:
      - action: light.turn_off
        data: {}
        target:
          entity_id: light.bedroom_4_lights
      alias: Do Turn OFF
  mode: queued
  max: 10
- id: '1726965701513'
  alias: Bedroom 4, Ceiling Light (Lutron Pico, Paddle)
  description: ''
  trigger:
  - platform: device
    device_id: 687b4e1b0875cd0e443f232fe5767e1d
    domain: lutron_caseta
    type: press
    subtype: Button 0
    id: Button Press ON
  - platform: device
    device_id: 687b4e1b0875cd0e443f232fe5767e1d
    domain: lutron_caseta
    type: press
    subtype: Button 2
    id: Button Press OFF
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Button Press ON
      sequence:
      - action: light.turn_on
        metadata: {}
        data: {}
        target:
          entity_id: light.ceiling_fan_bedroom_4
      alias: Do Turn ON
    - conditions:
      - condition: trigger
        id:
        - Button Press OFF
      sequence:
      - action: light.turn_off
        data: {}
        target:
          entity_id: light.ceiling_fan_bedroom_4
      alias: Do Turn OFF
  mode: queued
  max: 10
- id: '1726966111543'
  alias: Bedroom 3, Fan Ceiling (Lutron Pico, 3 Button)
  description: ''
  trigger:
  - platform: device
    device_id: c86536d4eb18d6eaf1ddb6d7e63bb379
    domain: lutron_caseta
    type: press
    subtype: 'on'
    id: Button Press ON
  - platform: device
    device_id: c86536d4eb18d6eaf1ddb6d7e63bb379
    domain: lutron_caseta
    type: press
    subtype: 'off'
    id: Button Press OFF
  - platform: device
    device_id: c86536d4eb18d6eaf1ddb6d7e63bb379
    domain: lutron_caseta
    type: press
    subtype: stop
    id: Button Press STOP
  - platform: device
    device_id: c86536d4eb18d6eaf1ddb6d7e63bb379
    domain: lutron_caseta
    type: press
    subtype: raise
    id: Button Press RAISE
  - platform: device
    device_id: c86536d4eb18d6eaf1ddb6d7e63bb379
    domain: lutron_caseta
    type: press
    subtype: lower
    id: Button Press LOWER
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Button Press ON
      sequence:
      - action: fan.turn_on
        data: {}
        target:
          entity_id: fan.ceiling_fan_bedroom_3
      alias: Do Turn ON
    - conditions:
      - condition: trigger
        id:
        - Button Press OFF
      sequence:
      - action: fan.turn_off
        data: {}
        target:
          entity_id: fan.ceiling_fan_bedroom_3
      alias: Do Turn OFF
    - conditions:
      - condition: trigger
        id:
        - Button Press STOP
      sequence:
      - action: fan.toggle
        data: {}
        target:
          entity_id: fan.ceiling_fan_bedroom_3
      alias: Do STOP
    - conditions:
      - condition: trigger
        id:
        - Button Press RAISE
      sequence:
      - action: fan.increase_speed
        data:
          percentage_step: 34
        target:
          entity_id: fan.ceiling_fan_bedroom_3
      alias: Do RAISE
    - conditions:
      - condition: trigger
        id:
        - Button Press LOWER
      sequence:
      - action: fan.decrease_speed
        data:
          percentage_step: 34
        target:
          entity_id: fan.ceiling_fan_bedroom_3
      alias: Do LOWER
  mode: queued
  max: 10
- id: '1726966251327'
  alias: Bedroom 3, Light Ceiling (Lutron Pico, Paddle)
  description: ''
  trigger:
  - platform: device
    device_id: afe69d52a42055addce27abac118675a
    domain: lutron_caseta
    type: press
    subtype: Button 0
    id: Button Press ON
  - platform: device
    device_id: afe69d52a42055addce27abac118675a
    domain: lutron_caseta
    type: press
    subtype: Button 2
    id: Button Press OFF
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Button Press ON
      sequence:
      - action: light.turn_on
        metadata: {}
        data: {}
        target:
          entity_id: light.ceiling_fan_bedroom_3
      alias: Do Turn ON
    - conditions:
      - condition: trigger
        id:
        - Button Press OFF
      sequence:
      - action: light.turn_off
        data: {}
        target:
          entity_id: light.ceiling_fan_bedroom_3
      alias: Do Turn OFF
  mode: queued
  max: 10
- id: '1726966400827'
  alias: Living Room, Light Primary (Lutron Pico, 3 Button)
  description: ''
  trigger:
  - platform: device
    device_id: 52953df2b0850134e6d998ac302e9f8b
    domain: lutron_caseta
    type: press
    subtype: 'on'
    id: Button Press ON
  - platform: device
    device_id: 52953df2b0850134e6d998ac302e9f8b
    domain: lutron_caseta
    type: press
    subtype: 'off'
    id: Button Press OFF
  - platform: device
    device_id: 52953df2b0850134e6d998ac302e9f8b
    domain: lutron_caseta
    type: press
    subtype: stop
    id: Button Press STOP
  - platform: device
    device_id: 52953df2b0850134e6d998ac302e9f8b
    domain: lutron_caseta
    type: press
    subtype: raise
    id: Button Press RAISE
  - platform: device
    device_id: 52953df2b0850134e6d998ac302e9f8b
    domain: lutron_caseta
    type: press
    subtype: lower
    id: Button Press LOWER
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Button Press ON
      sequence:
      - action: light.turn_on
        metadata: {}
        data: {}
        target:
          entity_id: light.living_room_corner_lamp
      alias: Do Turn ON
    - conditions:
      - condition: trigger
        id:
        - Button Press OFF
      sequence:
      - action: light.turn_off
        data: {}
        target:
          entity_id: light.living_room_corner_lamp
      alias: Do Turn OFF
    - conditions:
      - condition: trigger
        id:
        - Button Press STOP
      sequence:
      - action: light.toggle
        data: {}
        target:
          entity_id: light.living_room_corner_lamp
      alias: Do STOP
    - conditions:
      - condition: trigger
        id:
        - Button Press RAISE
      sequence:
      - action: light.turn_on
        metadata: {}
        data:
          brightness_step_pct: 10
        target:
          entity_id: light.living_room_corner_lamp
      alias: Do RAISE
    - conditions:
      - condition: trigger
        id:
        - Button Press LOWER
      sequence:
      - action: light.turn_on
        metadata: {}
        data:
          brightness_step_pct: -10
        target:
          entity_id: light.living_room_corner_lamp
      alias: Do LOWER
  mode: queued
  max: 10
- id: '1726966806865'
  alias: Bedroom 1, Ceiling Fan (Lutron Pico, 3 Button)
  description: ''
  trigger:
  - platform: device
    device_id: 42cf4e5eb7543eaffd4a0a285cefd6a9
    domain: lutron_caseta
    type: press
    subtype: 'on'
    id: Button Press ON
  - platform: device
    device_id: 42cf4e5eb7543eaffd4a0a285cefd6a9
    domain: lutron_caseta
    type: press
    subtype: 'off'
    id: Button Press OFF
  - platform: device
    device_id: 42cf4e5eb7543eaffd4a0a285cefd6a9
    domain: lutron_caseta
    type: press
    subtype: stop
    id: Button Press STOP
  - platform: device
    device_id: 42cf4e5eb7543eaffd4a0a285cefd6a9
    domain: lutron_caseta
    type: press
    subtype: raise
    id: Button Press RAISE
  - platform: device
    device_id: 42cf4e5eb7543eaffd4a0a285cefd6a9
    domain: lutron_caseta
    type: press
    subtype: lower
    id: Button Press LOWER
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Button Press ON
      sequence:
      - action: fan.turn_on
        data: {}
        target:
          entity_id: fan.ceiling_fan_bedroom_1
      alias: Do Turn ON
    - conditions:
      - condition: trigger
        id:
        - Button Press OFF
      sequence:
      - action: fan.turn_off
        data: {}
        target:
          entity_id: fan.ceiling_fan_bedroom_1
      alias: Do Turn OFF
    - conditions:
      - condition: trigger
        id:
        - Button Press STOP
      sequence:
      - action: fan.toggle
        data: {}
        target:
          entity_id: fan.ceiling_fan_bedroom_1
      alias: Do STOP
    - conditions:
      - condition: trigger
        id:
        - Button Press RAISE
      sequence:
      - action: fan.increase_speed
        data:
          percentage_step: 34
        target:
          entity_id: fan.ceiling_fan_bedroom_1
      alias: Do RAISE
    - conditions:
      - condition: trigger
        id:
        - Button Press LOWER
      sequence:
      - action: fan.decrease_speed
        data:
          percentage_step: 34
        target:
          entity_id: fan.ceiling_fan_bedroom_1
      alias: Do LOWER
  mode: queued
  max: 10
- id: '1726966930016'
  alias: Bedroom 1, Light Ceiling (Lutron Pico, Paddle)
  description: ''
  trigger:
  - platform: device
    device_id: da8f06c90863b596980eda95dd6754ae
    domain: lutron_caseta
    type: press
    subtype: Button 0
    id: Button Press ON
  - platform: device
    device_id: da8f06c90863b596980eda95dd6754ae
    domain: lutron_caseta
    type: press
    subtype: Button 2
    id: Button Press OFF
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Button Press ON
      sequence:
      - action: light.turn_on
        metadata: {}
        data: {}
        target:
          entity_id: light.ceiling_fan_bedroom_1
      alias: Do Turn ON
    - conditions:
      - condition: trigger
        id:
        - Button Press OFF
      sequence:
      - action: light.turn_off
        data: {}
        target:
          entity_id: light.ceiling_fan_bedroom_1
      alias: Do Turn OFF
  mode: queued
  max: 10
- id: '1726966978729'
  alias: Bedroom 1, Light Primary (Lutron Pico, Paddle)
  description: ''
  trigger:
  - platform: device
    device_id: a7fd95bd8b97ebc8067e659bb3aa7009
    domain: lutron_caseta
    type: press
    subtype: Button 0
    id: Button Press ON
  - platform: device
    device_id: a7fd95bd8b97ebc8067e659bb3aa7009
    domain: lutron_caseta
    type: press
    subtype: Button 2
    id: Button Press OFF
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Button Press ON
      sequence:
      - action: light.turn_on
        metadata: {}
        data: {}
        target:
          entity_id: light.bedroom_1_bedside_lamps
      alias: Do Turn ON
    - conditions:
      - condition: trigger
        id:
        - Button Press OFF
      sequence:
      - action: light.turn_off
        data: {}
        target:
          entity_id: light.bedroom_1_bedside_lamps
      alias: Do Turn OFF
  mode: queued
  max: 10
- id: '1727015013289'
  alias: Garage, Cover Door (Aqara Mini Switch)
  description: ''
  use_blueprint:
    path: maxson/remote_aqara_mini_switch.yaml
    input:
      remote: 47d5b025f28a07acda4690b87b00c9ed
      single_press_action:
      - action: cover.open_cover
        metadata: {}
        data: {}
        target:
          entity_id: cover.garage_door
      double_press_action:
      - action: cover.close_cover
        target:
          entity_id:
          - cover.garage_door
        data: {}
      auto_mode: queued
      long_press_action:
      - action: cover.toggle_cover_tilt
        target:
          entity_id: cover.blinds_kitchen
        data: {}
- id: '1727113582845'
  alias: Bedroom 1, Bedside Lamps (IKEA STYRBAR, 4 Button)
  description: ''
  use_blueprint:
    path: maxson/remote_ikea_styrbar_4_button.yaml
    input:
      remote: 6b9849701fc9f47c707d23e72e72716a
      light: light.bedroom_1_bedside_lamps
      brightness_step: 10
- id: '1727115559199'
  alias: Bedroom 4, Office Lights (IKEA TRADFRI, 5 Button)
  description: ''
  use_blueprint:
    path: maxson/remote_ikea_tradfri_5_button.yaml
    input:
      remote: 61a2efe93ec921eb2ccfbd6f166e2aef
      light: light.bedroom_4_lights
      brightness_step: 10
- id: '1727117077347'
  alias: Living Room, Corner Lamp (IKEA TRADRI, 2 Button)
  description: ''
  use_blueprint:
    path: maxson/remote_ikea_tradfri_2_button.yaml
    input:
      remote: 773fcd7dc85227c001175b0744486dfa
      light: light.living_room_corner_lamp
      brightness_step: 10
- id: '1727117139279'
  alias: Garage, Wall Fan (IKEA TRADRI, 2 Button)
  description: ''
  use_blueprint:
    path: maxson/remote_ikea_tradfri_2_button.yaml
    input:
      light: light.garage_fan
      remote: 5c4c46dcb1d52a61015e2f96a4b93f48
      brightness_step: 10
      force_brightness: true
      brightness: 100
- id: '1727129555803'
  alias: Bedroom 1, Closet Hallway
  description: ''
  trigger:
  - platform: state
    entity_id:
    - light.closet_hallway_ceiling_light
    from: 'off'
    to: 'on'
  condition: []
  action:
  - action: light.turn_on
    metadata: {}
    data:
      brightness_pct: 60
    target:
      entity_id: light.closet_hallway_ceiling_light
  mode: single
- &id001
  id: '1727129683083'
  alias: Bedroom 4, Desk Lamp
  description: ''
  trigger:
  - platform: state
    entity_id:
    - light.bedroom_4_desk_lamp
    from: 'off'
    to: 'on'
  condition: []
  action:
  - action: light.turn_on
    metadata: {}
    data:
      brightness_pct: 40
    target:
      entity_id: light.bedroom_4_desk_lamp
  mode: single
- *id001
- id: '1727129921085'
  alias: Bedroom 4, Lightstrip
  description: ''
  trigger:
  - platform: state
    entity_id:
    - light.bedroom_4_lightstrip
    from: 'off'
    to: 'on'
  condition: []
  action:
  - action: light.turn_on
    metadata: {}
    data:
      brightness_pct: 40
    target:
      entity_id: light.bedroom_4_lightstrip
  mode: single
- id: '1727279383231'
  alias: Reset Garage GFCI Outlet
  description: ''
  trigger:
  - platform: state
    entity_id:
    - light.garage_fan
    to: unavailable
    for:
      hours: 0
      minutes: 10
      seconds: 0
  condition: []
  action:
  - repeat:
      sequence:
      - metadata: {}
        data:
          message: Warning. The garage GFCI outlet might need to be reset.
        action: script.amazon_echo_announcement
      - delay:
          hours: 0
          minutes: 10
          seconds: 0
          milliseconds: 0
      until:
      - condition: not
        conditions:
        - condition: state
          entity_id: light.garage_fan
          state: unavailable
  mode: single
- id: '1727298892054'
  alias: Leak Detected
  description: ''
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.leak_air_conditioner
    from: 'off'
    to: 'on'
    id: Leak in Air Conditioner Intake
  - platform: state
    entity_id:
    - binary_sensor.leak_washing_machine
    from: 'off'
    to: 'on'
    id: Leak Under Washing Machine
  - platform: state
    entity_id:
    - binary_sensor.leak_sink_kitchen
    from: 'off'
    to: 'on'
    id: Leak Under Sink, Kitchen
  - platform: state
    entity_id:
    - binary_sensor.leak_dish_washer
    from: 'off'
    to: 'on'
    id: Leak Under Dish Washer
  - platform: state
    entity_id:
    - binary_sensor.leak_sink_bathroom_main_his
    from: 'off'
    to: 'on'
    id: Leak Under Sink, Main Bathroom (His)
  - platform: state
    entity_id:
    - binary_sensor.leak_sink_bathroom_main_hers
    from: 'off'
    to: 'on'
    id: Leak Under Sink, Main Bathroom (Hers)
  - platform: state
    entity_id:
    - binary_sensor.leak_toilet_bathroom_main
    from: 'off'
    to: 'on'
    id: Leak at Toilet, Main Bathroom
  - platform: state
    entity_id:
    - binary_sensor.leak_sink_bathroom_guest
    from: 'off'
    to: 'on'
    id: Leak Under Sink, Guest Bathroom
  - platform: state
    entity_id:
    - binary_sensor.leak_toilet_bathroom_guest
    from: 'off'
    to: 'on'
    id: Leak at Toilet, Guest Bathroom
  - platform: state
    entity_id:
    - binary_sensor.leak_sink_bathroom_half
    from: 'off'
    to: 'on'
    id: Leak Under Sink, Half Bathroom
  - platform: state
    entity_id:
    - binary_sensor.leak_toilet_bathroom_half
    from: 'off'
    to: 'on'
    id: Leak at Toilet, Half Bathroom
  - platform: state
    entity_id:
    - binary_sensor.leak_wine_cooler
    from: 'off'
    to: 'on'
    id: Leak Under Wine Cooler
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Leak in Air Conditioner Intake
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          notification_type: type_critical
          interruption_level: critical
          subtitle: Warning
          message: Water has been detected in the foyer in the bottom of the air conditioner
            intake.
      - action: script.amazon_echo_announcement
        metadata: {}
        data:
          message: Warning! Water has been detected in the foyer in the bottom of
            the air conditioner intake.
        alias: Send Notification to Alexa
      - alias: Create Persistent Notification
        action: persistent_notification.create
        metadata: {}
        data:
          message: Water has been detected in the foyer in the bottom of the air conditioner
            intake.
          title: Warning
    - conditions:
      - condition: trigger
        id:
        - Leak Under Washing Machine
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          notification_type: type_critical
          interruption_level: critical
          subtitle: Warning
          message: Water has been detected in the laundry room under the washing machine.
      - action: script.amazon_echo_announcement
        metadata: {}
        data:
          message: Warning! Water has been detected in the laundry room under the
            washing machine.
        alias: Send Notification to Alexa
      - alias: Create Persistent Notification
        action: persistent_notification.create
        metadata: {}
        data:
          message: Water has been detected in the laundry room under the washing machine.
          title: Warning
    - conditions:
      - condition: trigger
        id:
        - Leak Under Sink, Kitchen
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          notification_type: type_critical
          interruption_level: critical
          subtitle: Warning
          message: Water has been detected under the kitchen sink.
      - action: script.amazon_echo_announcement
        metadata: {}
        data:
          message: Warning! Water has been detected under the kitchen sink.
        alias: Send Notification to Alexa
      - alias: Create Persistent Notification
        action: persistent_notification.create
        metadata: {}
        data:
          message: Water has been detected under the kitchen sink.
          title: Warning
    - conditions:
      - condition: trigger
        id:
        - Leak Under Sink, Main Bathroom (His)
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          notification_type: type_critical
          interruption_level: critical
          subtitle: Warning
          message: Water has been detected in the main bathroom under his sink.
      - action: script.amazon_echo_announcement
        metadata: {}
        data:
          message: Warning! Water has been detected in the main bathroom under his
            sink.
        alias: Send Notification to Alexa
      - alias: Create Persistent Notification
        action: persistent_notification.create
        metadata: {}
        data:
          message: Water has been detected in the main bathroom under his sink.
          title: Warning
    - conditions:
      - condition: trigger
        id:
        - Leak Under Sink, Main Bathroom (Hers)
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          notification_type: type_critical
          interruption_level: critical
          subtitle: Warning
          message: Water has been detected in the main bathroom under her sink.
      - action: script.amazon_echo_announcement
        metadata: {}
        data:
          message: Warning! Water has been detected in the main bathroom under her
            sink.
        alias: Send Notification to Alexa
      - alias: Create Persistent Notification
        action: persistent_notification.create
        metadata: {}
        data:
          message: Water has been detected in the main bathroom under her sink.
          title: Warning
    - conditions:
      - condition: trigger
        id:
        - Leak at Toilet, Main Bathroom
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          notification_type: type_critical
          interruption_level: critical
          subtitle: Warning
          message: Water has been detected in the main bathroom behind the toilet.
      - action: script.amazon_echo_announcement
        metadata: {}
        data:
          message: Warning! Water has been detected in the main bathroom behind the
            toilet.
        alias: Send Notification to Alexa
      - alias: Create Persistent Notification
        action: persistent_notification.create
        metadata: {}
        data:
          message: Water has been detected in the main bathroom behind the toilet.
          title: Warning
    - conditions:
      - condition: trigger
        id:
        - Leak Under Sink, Guest Bathroom
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          notification_type: type_critical
          interruption_level: critical
          subtitle: Warning
          message: Water has been detected in the guest bathroom under the sink.
      - action: script.amazon_echo_announcement
        metadata: {}
        data:
          message: Warning! Water has been detected in the guest bathroom under the
            sink.
        alias: Send Notification to Alexa
      - alias: Create Persistent Notification
        action: persistent_notification.create
        metadata: {}
        data:
          message: Water has been detected in the guest bathroom under the sink.
          title: Warning
    - conditions:
      - condition: trigger
        id:
        - Leak at Toilet, Guest Bathroom
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          notification_type: type_critical
          interruption_level: critical
          subtitle: Warning
          message: Water has been detected in the guest bathroom behind the toilet.
      - action: script.amazon_echo_announcement
        metadata: {}
        data:
          message: Warning! Water has been detected in the guest bathroom behind the
            toilet.
        alias: Send Notification to Alexa
      - alias: Create Persistent Notification
        action: persistent_notification.create
        metadata: {}
        data:
          message: Water has been detected in the guest bathroom behind the toilet.
          title: Warning
    - conditions:
      - condition: trigger
        id:
        - Leak Under Sink, Half Bathroom
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          notification_type: type_critical
          interruption_level: critical
          subtitle: Warning
          message: Water has been detected in the half bath under the sink.
      - action: script.amazon_echo_announcement
        metadata: {}
        data:
          message: Warning! Water has been detected in the half bath under the sink.
        alias: Send Notification to Alexa
      - alias: Create Persistent Notification
        action: persistent_notification.create
        metadata: {}
        data:
          message: Water has been detected in the half bath under the sink.
          title: Warning
    - conditions:
      - condition: trigger
        id:
        - Leak at Toilet, Half Bathroom
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          notification_type: type_critical
          interruption_level: critical
          subtitle: Warning
          message: Water has been detected in the half bath behind the toilet.
      - action: script.amazon_echo_announcement
        metadata: {}
        data:
          message: Warning! Water has been detected in the half bath behind the toilet.
        alias: Send Notification to Alexa
      - alias: Create Persistent Notification
        action: persistent_notification.create
        metadata: {}
        data:
          message: Water has been detected in the half bath behind the toilet.
          title: Warning
    - conditions:
      - condition: trigger
        id:
        - Leak Under Wine Cooler
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          notification_type: type_critical
          interruption_level: critical
          subtitle: Warning
          message: Water has been detected under the wine cooler.
      - action: script.amazon_echo_announcement
        metadata: {}
        data:
          message: Warning! Water has been detected under the wine cooler.
        alias: Send Notification to Alexa
      - alias: Create Persistent Notification
        action: persistent_notification.create
        metadata: {}
        data:
          message: Water has been detected under the wine cooler.
          title: Warning
  mode: single
- id: '1727361036902'
  alias: Foyer
  description: ''
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.door_front_primary
    from: 'off'
    to: 'on'
    id: Primary Door Did OPEN
  - platform: state
    entity_id:
    - binary_sensor.door_front_primary
    from: 'on'
    to: 'off'
    id: Primary Door Did CLOSE
  - platform: state
    entity_id:
    - binary_sensor.door_front_primary
    to: 'off'
    id: Primary Door Has Been CLOSED
    for:
      hours: 0
      minutes: 10
      seconds: 0
    from: 'on'
  - platform: state
    entity_id:
    - binary_sensor.door_front_secondary
    from: 'off'
    to: 'on'
    id: Secondary Door Did OPEN
  - platform: state
    entity_id:
    - binary_sensor.door_front_secondary
    from: 'on'
    to: 'off'
    id: Secondary Door Did CLOSE
  - platform: time_pattern
    minutes: '00'
    id: Door Lock has been UNLOCKED - On the hour
  - platform: time_pattern
    minutes: '30'
    id: Door Lock has been UNLOCKED - 30 min past the hour
  condition: []
  action:
  - alias: Room Activity Actions
    choose:
    - conditions:
      - condition: trigger
        id:
        - Primary Door Did OPEN
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          message: The Primary Front door has been opened.
          notification_type: type_activity_door_exterior
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
          interruption_level: active
      - if:
        - condition: state
          entity_id: input_boolean.automation_foyer_door_open_close
          state: 'on'
        - condition: sun
          before: sunrise
          after: sunset
        - condition: state
          entity_id: input_boolean.sunset_automations_active
          state: 'off'
        then:
        - action: light.turn_on
          metadata: {}
          data: {}
          target:
            entity_id: light.foyer_exterior_entryway
        alias: If Allowed Run Automations
      alias: When Primary Door is OPENED
    - conditions:
      - condition: trigger
        id:
        - Primary Door Did CLOSE
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          message: The Primary Front door has been closed.
          notification_type: type_activity_door_exterior
          interruption_level: active
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
      alias: When Primary Door is CLOSED
    - conditions:
      - condition: trigger
        id:
        - Primary Door Has Been CLOSED
      sequence:
      - if:
        - condition: state
          entity_id: input_boolean.automation_foyer_door_open_close
          state: 'on'
        - condition: sun
          before: sunrise
          after: sunset
        - condition: state
          entity_id: input_boolean.sunset_automations_active
          state: 'off'
        then:
        - action: light.turn_off
          data: {}
          target:
            entity_id: light.foyer_exterior_entryway
        alias: If Allowed Run Automations
      alias: When Primary Door Has Been CLOSED
    - conditions:
      - condition: trigger
        id:
        - Secondary Door Did OPEN
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          message: The Secondary Front Door has been opened.
          notification_type: type_activity_door_exterior
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
          interruption_level: active
      alias: When Secondary Door is OPENED
    - conditions:
      - condition: trigger
        id:
        - Secondary Door Did CLOSE
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          message: The Secondary Front Door has been closed.
          notification_type: type_activity_door_exterior
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
          interruption_level: active
      alias: When Secondary Door is CLOSED
    - conditions:
      - condition: and
        conditions:
        - condition: trigger
          id:
          - Door Lock has been UNLOCKED - On the hour
          - Door Lock has been UNLOCKED - 30 min past the hour
        - condition: state
          entity_id: lock.front_door
          state: unlocked
        - condition: state
          entity_id: input_boolean.snooze_notify_front_door_unlocked
          state: 'off'
        - condition: and
          conditions:
          - condition: sun
            after: sunset
          - condition: time
            before: 00:00:00
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          notification_type: type_warning
          interruption_level: active
          message: Oops! The Front Door was left unlocked.
          notification_actions:
          - action: LOCK_FRONT_DOOR
            title: Lock Front Door
            icon: sfsymbols:lock
          - action: SNOOZE_TODAY_FRONT_DOOR
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
      alias: When Front Door Was Left UNLOCKED
  mode: single
- id: '1727460698990'
  alias: Bedroom 2 (Guest)
  description: ''
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.door_bedroom_2
    from: 'off'
    to: 'on'
    id: Door Did OPEN
  - platform: state
    entity_id:
    - binary_sensor.door_bedroom_2
    to: 'on'
    id: Door has been OPENED
    for:
      hours: 0
      minutes: 0
      seconds: 20
  - platform: state
    entity_id:
    - binary_sensor.door_bedroom_2
    from: 'on'
    to: 'off'
    id: Door Did CLOSE
  - platform: state
    entity_id:
    - binary_sensor.door_bedroom_2
    to: 'off'
    id: Door has been CLOSED
    for:
      hours: 0
      minutes: 0
      seconds: 20
  - platform: state
    entity_id:
    - binary_sensor.presence_bedroom_2
    from: 'off'
    to: 'on'
    id: Presence is DETECTED
  - platform: state
    entity_id:
    - binary_sensor.presence_bedroom_2
    from: 'on'
    to: 'off'
    id: Presence is CLEAR
    for:
      hours: 0
      minutes: 5
      seconds: 0
  condition: []
  action:
  - alias: Room Activity Actions
    choose:
    - conditions:
      - condition: trigger
        id:
        - Door Did OPEN
        enabled: true
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          message: The Guest Bedroom door has been opened.
          notification_type: type_activity_door_interior
          interruption_level: active
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
      - alias: If Allowed Run Automations
        if:
        - condition: and
          conditions:
          - condition: state
            entity_id: input_boolean.automation_bedroom_2_door_open_close
            state: 'on'
          - condition: state
            entity_id: binary_sensor.presence_bedroom_2
            state: 'off'
        then:
        - alias: Turn ON, Immediately
          action: light.turn_on
          metadata: {}
          data: {}
          target:
            entity_id: light.bedroom_2_bedside_lamps
      alias: When Door is OPENED
    - conditions:
      - condition: and
        conditions:
        - condition: trigger
          id:
          - Door has been OPENED
          enabled: true
        - condition: state
          entity_id: input_boolean.automation_bedroom_2_door_open_close
          state: 'on'
        - condition: state
          entity_id: binary_sensor.presence_bedroom_2
          state: 'off'
      sequence:
      - action: fan.turn_on
        target:
          entity_id:
          - fan.ceiling_fan_bedroom_2
        data: {}
        enabled: true
      alias: When Door has been OPENED
    - conditions:
      - condition: trigger
        id:
        - Door Did CLOSE
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          message: The Guest Bedroom door has been closed.
          notification_type: type_activity_door_interior
          interruption_level: active
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
      - alias: If Allowed Run Automations
        if:
        - condition: and
          conditions:
          - condition: state
            entity_id: input_boolean.automation_bedroom_2_door_open_close
            state: 'on'
          - condition: state
            entity_id: binary_sensor.presence_bedroom_2
            state: 'off'
        then:
        - alias: Turn OFF, Immediately
          action: light.turn_off
          data: {}
          target:
            entity_id: light.bedroom_2_lights_all
        enabled: true
      alias: When Door is CLOSED
    - conditions:
      - condition: and
        conditions:
        - condition: trigger
          id:
          - Door has been CLOSED
        - condition: state
          entity_id: input_boolean.automation_bedroom_2_door_open_close
          state: 'on'
        - condition: state
          entity_id: binary_sensor.presence_bedroom_2
          state: 'off'
      sequence:
      - action: fan.turn_off
        metadata: {}
        data: {}
        target:
          entity_id: fan.ceiling_fan_bedroom_2
      alias: When Door has been CLOSED
    - conditions:
      - condition: and
        conditions:
        - condition: time
          before: '21:00:00'
          after: 06:00:00
        - condition: trigger
          id:
          - Presence is DETECTED
        - condition: state
          entity_id: input_boolean.automation_bedroom_2_door_open_close
          state: 'on'
        - condition: state
          entity_id: binary_sensor.door_bedroom_2
          state: 'on'
      sequence:
      - alias: Turn ON, Immediately
        action: light.turn_on
        metadata: {}
        data: {}
        target:
          entity_id: light.bedroom_2_bedside_lamps
      - alias: Turn ON, Immediately
        action: fan.turn_on
        target:
          entity_id: fan.ceiling_fan_bedroom_2
        data: {}
      alias: When Presence is DETECTED
    - conditions:
      - condition: and
        conditions:
        - condition: trigger
          id:
          - Presence is CLEAR
        - condition: state
          entity_id: input_boolean.automation_bedroom_2_door_open_close
          state: 'on'
      sequence:
      - alias: Turn OFF, Immediately
        action: light.turn_off
        data: {}
        target:
          entity_id: light.bedroom_2_lights_all
      - alias: Turn OFF, Immediately
        action: fan.turn_off
        target:
          entity_id: fan.ceiling_fan_bedroom_2
        data: {}
      alias: When Presence is CLEAR
  mode: queued
  max: 10
- id: '1727462085476'
  alias: Bedroom 3 (Jess' Office)
  description: ''
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.door_bedroom_3
    from: 'off'
    to: 'on'
    id: Door Did OPEN
  - platform: state
    entity_id:
    - binary_sensor.door_bedroom_3
    to: 'on'
    id: Door has been OPENED
    for:
      hours: 0
      minutes: 0
      seconds: 20
  - platform: state
    entity_id:
    - binary_sensor.door_bedroom_3
    from: 'on'
    to: 'off'
    id: Door Did CLOSE
  - platform: state
    entity_id:
    - binary_sensor.door_bedroom_3
    to: 'off'
    id: Door has been CLOSED
    for:
      hours: 0
      minutes: 0
      seconds: 20
  - platform: state
    entity_id:
    - binary_sensor.presence_bedroom_3
    from: 'off'
    to: 'on'
    id: Presence is DETECTED
  - platform: state
    entity_id:
    - binary_sensor.presence_bedroom_3
    from: 'on'
    to: 'off'
    id: Presence is CLEAR
    for:
      hours: 0
      minutes: 5
      seconds: 0
  condition: []
  action:
  - alias: Room Activity Actions
    choose:
    - conditions:
      - condition: trigger
        id:
        - Door Did OPEN
        enabled: true
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          message: Jess' Office door has been opened.
          notification_type: type_activity_door_interior
          interruption_level: active
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
      - alias: If Allowed Run Automations
        if:
        - condition: and
          conditions:
          - condition: state
            entity_id: input_boolean.automation_bedroom_3_door_open_close
            state: 'on'
          - condition: state
            entity_id: binary_sensor.presence_bedroom_3
            state: 'off'
        then:
        - alias: Turn ON, Immediately
          action: light.turn_on
          metadata: {}
          data: {}
          target:
            entity_id: light.bedroom_3_floor_lamp
      alias: When Door is OPENED
    - conditions:
      - condition: and
        conditions:
        - condition: trigger
          id:
          - Door has been OPENED
          enabled: true
        - condition: state
          entity_id: input_boolean.automation_bedroom_3_door_open_close
          state: 'on'
        - condition: state
          entity_id: binary_sensor.presence_bedroom_3
          state: 'off'
      sequence:
      - action: fan.turn_on
        target:
          entity_id:
          - fan.ceiling_fan_bedroom_3
        data: {}
        enabled: true
      alias: When Door has been OPENED
    - conditions:
      - condition: trigger
        id:
        - Door Did CLOSE
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          message: Jess' Office door has been closed.
          notification_type: type_activity_door_interior
          interruption_level: active
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
      - alias: If Allowed Run Automations
        if:
        - condition: and
          conditions:
          - condition: state
            entity_id: input_boolean.automation_bedroom_3_door_open_close
            state: 'on'
          - condition: state
            entity_id: binary_sensor.presence_bedroom_3
            state: 'off'
        then:
        - alias: Turn OFF, Immediately
          action: light.turn_off
          data: {}
          target:
            entity_id: light.bedroom_3_lights_all
        enabled: true
      alias: When Door is CLOSED
    - conditions:
      - condition: and
        conditions:
        - condition: trigger
          id:
          - Door has been CLOSED
        - condition: state
          entity_id: input_boolean.automation_bedroom_3_door_open_close
          state: 'on'
        - condition: state
          entity_id: binary_sensor.presence_bedroom_3
          state: 'off'
      sequence:
      - action: fan.turn_off
        metadata: {}
        data: {}
        target:
          entity_id: fan.ceiling_fan_bedroom_3
      alias: When Door has been CLOSED
    - conditions:
      - condition: and
        conditions:
        - condition: trigger
          id:
          - Presence is DETECTED
        - condition: state
          entity_id: input_boolean.automation_bedroom_3_door_open_close
          state: 'on'
        - condition: state
          entity_id: binary_sensor.door_bedroom_3
          state: 'on'
      sequence:
      - alias: Turn ON, Immediately
        action: light.turn_on
        metadata: {}
        data: {}
        target:
          entity_id: light.bedroom_3_floor_lamp
      - alias: Turn ON, Immediately
        action: fan.turn_on
        target:
          entity_id:
          - fan.ceiling_fan_bedroom_3
        data: {}
      alias: When Presence is DETECTED
    - conditions:
      - condition: and
        conditions:
        - condition: state
          entity_id: input_boolean.automation_bedroom_3_door_open_close
          state: 'on'
        - condition: trigger
          id:
          - Presence is CLEAR
      sequence:
      - alias: Turn OFF, Immediately
        action: light.turn_off
        data: {}
        target:
          entity_id: light.bedroom_3_lights_all
      - alias: Turn OFF, Immediately
        action: fan.turn_off
        target:
          entity_id: fan.ceiling_fan_bedroom_3
        data: {}
      alias: When Presence is CLEAR
  mode: queued
  max: 10
- id: '1727465525056'
  alias: Bedroom 1 (Main)
  description: ''
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.door_bedroom_1
    from: 'off'
    to: 'on'
    id: Door Did OPEN
  - platform: state
    entity_id:
    - binary_sensor.door_bedroom_1
    from: 'on'
    to: 'off'
    id: Door Did CLOSE
  - platform: state
    entity_id:
    - binary_sensor.door_closet_hallway_his
    from: 'off'
    to: 'on'
    id: His Closet Door Did OPEN
  - platform: state
    entity_id:
    - binary_sensor.door_closet_hallway_his
    from: 'on'
    to: 'off'
    id: His Closet Door Did CLOSE
  - platform: state
    entity_id:
    - binary_sensor.door_closet_hallway_his
    from: 'off'
    to: 'on'
    id: His Closet Door Left OPEN
    for:
      hours: 0
      minutes: 10
      seconds: 0
  - platform: state
    entity_id:
    - binary_sensor.door_closet_hallway_hers
    from: 'off'
    to: 'on'
    id: Her Closet Door Did OPEN
  - platform: state
    entity_id:
    - binary_sensor.door_closet_hallway_hers
    from: 'on'
    to: 'off'
    id: Her Closet Door Did CLOSE
  - platform: state
    entity_id:
    - binary_sensor.door_closet_hallway_hers
    from: 'off'
    to: 'on'
    id: Her Closet Door Left OPEN
    for:
      hours: 0
      minutes: 10
      seconds: 0
  condition: []
  action:
  - alias: Room Activity Actions
    choose:
    - conditions:
      - condition: trigger
        id:
        - Door Did OPEN
        enabled: true
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          message: The Main Bedroom door has been opened.
          notification_type: type_activity_door_interior
          interruption_level: active
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
      - alias: If Allowed Run Automations
        if:
        - condition: state
          entity_id: input_boolean.automation_bedroom_1_door_open_close
          state: 'on'
        then:
        - action: light.turn_on
          metadata: {}
          data: {}
          target:
            entity_id: light.bedroom_1_bedside_lamps
          alias: Turn ON, Immediately
      alias: When Door is OPENED
    - conditions:
      - condition: trigger
        id:
        - Door Did CLOSE
      sequence:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          message: The Main Bedroom door has been closed.
          notification_type: type_activity_door_interior
          interruption_level: active
          notification_actions:
          - action: SNOOZE_HOUSEHOLD_ACTIVITY
            title: Snooze
            icon: sfsymbols:xmark
            destructive: true
      - alias: If Allowed Run Automations
        if:
        - condition: state
          entity_id: input_boolean.automation_bedroom_1_door_open_close
          state: 'on'
        then:
        - action: light.turn_off
          target:
            entity_id:
            - light.bedroom_1_lights_all
          data: {}
          alias: Turn OFF, Immediately
        enabled: true
      alias: When Door is CLOSED
    - conditions:
      - condition: trigger
        id:
        - His Closet Door Did OPEN
        enabled: true
      sequence:
      - action: light.turn_on
        metadata: {}
        data: {}
        target:
          entity_id: light.closet_hallway_light_his
      alias: When His Closet Door is OPENED
    - conditions:
      - condition: trigger
        id:
        - His Closet Door Did CLOSE
        - His Closet Door Left OPEN
        enabled: true
      sequence:
      - action: light.turn_off
        target:
          entity_id:
          - light.closet_hallway_light_his
        data: {}
      alias: When His Closet Door is CLOSED or left OPEN
    - conditions:
      - condition: trigger
        id:
        - Her Closet Door Did OPEN
        enabled: true
      sequence:
      - action: light.turn_on
        metadata: {}
        data: {}
        target:
          entity_id: light.closet_hallway_light_hers
      alias: When Her Closet Door is OPENED
    - conditions:
      - condition: trigger
        id:
        - Her Closet Door Did CLOSE
        - Her Closet Door Left OPEN
        enabled: true
      sequence:
      - action: light.turn_off
        data: {}
        target:
          entity_id: light.closet_hallway_light_hers
      alias: When His Closet Door is CLOSED or left OPEN
  mode: queued
  max: 10
- id: '1727466621446'
  alias: Refrigerator Temperature Alert
  description: ''
  trigger:
  - platform: numeric_state
    entity_id:
    - sensor.temperature_refrigerator
    for:
      hours: 0
      minutes: 30
      seconds: 0
    above: 50
    enabled: true
  condition: []
  action:
  - action: script.push_notification_to_ios_devices
    metadata: {}
    data:
      message: The refrigerator has been over {{ trigger.above }} for longer than
        30 minutes.
      notification_type: Warning
  - action: persistent_notification.create
    metadata: {}
    data:
      title: Warning
      message: The refrigerator has been over {{ trigger.above }} for longer than
        {{ trigger.for }} minutes.
    enabled: false
  - action: script.amazon_echo_announcement
    metadata: {}
    data:
      message: Warning! The refrigerator has been over {{ trigger.above }} for longer
        than {{ trigger.for }} minutes.
    enabled: false
  mode: single
- id: '1727539745399'
  alias: iOS Notification Events
  description: ''
  trigger:
  - alias: iOS Event, COMPLETE_RECYCLE_BRING_IN
    platform: event
    event_type: ios.notification_action_fired
    event_data:
      actionName: COMPLETE_RECYCLE_BRING_IN
    id: Event, COMPLETE_RECYCLE_BRING_IN
  - alias: iOS Event, COMPLETE_RECYCLE_TAKE_OUT
    platform: event
    event_type: ios.notification_action_fired
    event_data:
      actionName: COMPLETE_RECYCLE_TAKE_OUT
    id: Event, COMPLETE_RECYCLE_TAKE_OUT
  - alias: iOS Event, COMPLETE_WASTE_BRING_IN
    platform: event
    event_type: ios.notification_action_fired
    event_data:
      actionName: COMPLETE_WASTE_BRING_IN
    id: Event, COMPLETE_WASTE_BRING_IN
  - alias: iOS Event, COMPLETE_WASTE_TAKE_OUT
    platform: event
    event_type: ios.notification_action_fired
    event_data:
      actionName: COMPLETE_WASTE_TAKE_OUT
    id: Event, COMPLETE_WASTE_TAKE_OUT
  - alias: iOS Event, CLOSE_GARAGE_DOOR
    platform: event
    event_type: ios.notification_action_fired
    event_data:
      actionName: CLOSE_GARAGE_DOOR
    id: Event, CLOSE_GARAGE_DOOR
  - alias: iOS Event, FAN_OFF_GARAGE
    platform: event
    event_type: ios.notification_action_fired
    event_data:
      actionName: FAN_OFF_GARAGE
    id: Event, FAN_OFF_GARAGE
  - alias: iOS Event, LIGHTS_OFF_BACKYARD
    platform: event
    event_type: ios.notification_action_fired
    event_data:
      actionName: LIGHTS_OFF_BACKYARD
    id: Event, LIGHTS_OFF_BACKYARD
  - alias: iOS Event, LOCK_FRONT_DOOR
    platform: event
    event_type: ios.notification_action_fired
    event_data:
      actionName: LOCK_FRONT_DOOR
    id: Event, LOCK_FRONT_DOOR
  - alias: iOS Event, SNOOZE_HOUSEHOLD_ACTIVITY
    platform: event
    event_type: ios.notification_action_fired
    event_data:
      actionName: SNOOZE_HOUSEHOLD_ACTIVITY
    id: Event, SNOOZE_HOUSEHOLD_ACTIVITY
  - alias: iOS Event, SNOOZE_TODAY_GARAGE_DOOR
    platform: event
    event_type: ios.notification_action_fired
    event_data:
      actionName: SNOOZE_TODAY_GARAGE_DOOR
    id: Event, SNOOZE_TODAY_GARAGE_DOOR
  - alias: iOS Event, SNOOZE_TODAY_FRONT_DOOR
    platform: event
    event_type: ios.notification_action_fired
    event_data:
      actionName: SNOOZE_TODAY_FRONT_DOOR
    id: Event, SNOOZE_TODAY_FRONT_DOOR
  - alias: iOS Event, SNOOZE_RECYCLE_BRING_IN
    platform: event
    event_type: ios.notification_action_fired
    event_data:
      actionName: SNOOZE_RECYCLE_BRING_IN
    id: Event, SNOOZE_RECYCLE_BRING_IN
  - alias: iOS Event, SNOOZE_RECYCLE_TAKE_OUT
    platform: event
    event_type: ios.notification_action_fired
    event_data:
      actionName: SNOOZE_RECYCLE_TAKE_OUT
    id: Event, SNOOZE_RECYCLE_TAKE_OUT
  - alias: iOS Event, SNOOZE_WASTE_BRING_IN
    platform: event
    event_type: ios.notification_action_fired
    event_data:
      actionName: SNOOZE_WASTE_BRING_IN
    id: Event, SNOOZE_WASTE_BRING_IN
  - alias: iOS Event, SNOOZE_WASTE_TAKE_OUT
    platform: event
    event_type: ios.notification_action_fired
    event_data:
      actionName: SNOOZE_WASTE_TAKE_OUT
    id: Event, SNOOZE_WASTE_TAKE_OUT
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Event, COMPLETE_WASTE_TAKE_OUT
      sequence:
      - action: input_boolean.turn_off
        target:
          entity_id:
          - input_boolean.reminder_waste_take_out_solid
        data: {}
    - conditions:
      - condition: trigger
        id:
        - Event, COMPLETE_WASTE_BRING_IN
      sequence:
      - action: input_boolean.turn_off
        data: {}
        target:
          entity_id: input_boolean.reminder_waste_bring_in_solid
    - conditions:
      - condition: trigger
        id:
        - Event, CLOSE_GARAGE_DOOR
      sequence:
      - action: cover.close_cover
        metadata: {}
        data: {}
        target:
          entity_id: cover.garage_door
    - conditions:
      - condition: trigger
        id:
        - Event, FAN_OFF_GARAGE
      sequence:
      - action: fan.turn_off
        target:
          entity_id: fan.custom_garage_fan
        data: {}
    - conditions:
      - condition: trigger
        id:
        - Event, LIGHTS_OFF_BACKYARD
      sequence:
      - action: light.turn_off
        target:
          entity_id: light.backyard_string_lights
        data: {}
    - conditions:
      - condition: trigger
        id:
        - Event, LOCK_FRONT_DOOR
      sequence:
      - action: lock.lock
        target:
          entity_id: lock.front_door
        data: {}
    - conditions:
      - condition: trigger
        id:
        - Event, SNOOZE_TODAY_FRONT_DOOR
      sequence:
      - action: input_boolean.turn_on
        data: {}
        target:
          entity_id: input_boolean.snooze_notify_front_door_unlocked
    - conditions:
      - condition: trigger
        id:
        - Event, SNOOZE_HOUSEHOLD_ACTIVITY
      sequence:
      - action: input_boolean.turn_on
        target:
          entity_id: input_boolean.snooze_notify_household_activity
        data: {}
    - conditions:
      - condition: trigger
        id:
        - Event, SNOOZE_TODAY_GARAGE_DOOR
      sequence:
      - action: input_boolean.turn_on
        data: {}
        target:
          entity_id: input_boolean.snooze_notify_garage_open
    - conditions:
      - condition: trigger
        id:
        - Event, SNOOZE_RECYCLE_BRING_IN
      sequence:
      - action: input_boolean.turn_on
        data: {}
        target:
          entity_id: input_boolean.snooze_recycle_reminder_bring_in
    - conditions:
      - condition: trigger
        id:
        - Event, SNOOZE_RECYCLE_TAKE_OUT
      sequence:
      - action: input_boolean.turn_on
        data: {}
        target:
          entity_id: input_boolean.snooze_recycle_reminder_take_out
    - conditions:
      - condition: trigger
        id:
        - Event, SNOOZE_WASTE_TAKE_OUT
      sequence:
      - action: input_boolean.turn_on
        data: {}
        target:
          entity_id: input_boolean.snooze_waste_reminder_take_out
    - conditions:
      - condition: trigger
        id:
        - Event, SNOOZE_WASTE_BRING_IN
      sequence:
      - action: input_boolean.turn_on
        data: {}
        target:
          entity_id: input_boolean.snooze_waste_reminder_bring_in
  mode: single
- id: '1727551693610'
  alias: Waste, Solid
  description: ''
  trigger:
  - platform: state
    entity_id:
    - schedule.waste_take_out_solid
    from: 'off'
    to: 'on'
    id: Take Out Schedule Turned ON
  - platform: state
    entity_id:
    - schedule.waste_bring_in_solid
    from: 'off'
    to: 'on'
    id: Bring In Schedule Turned ON
  - platform: time_pattern
    minutes: '00'
    id: On 00:00 of every hour
  - platform: time_pattern
    minutes: '30'
    id: On 00:30 of every hour
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Take Out Schedule Turned ON
      sequence:
      - metadata: {}
        data: {}
        target:
          entity_id:
          - input_boolean.reminder_waste_take_out_solid
        action: input_boolean.turn_on
      alias: 'TAKE OUT: Turn Flag ON'
    - conditions:
      - condition: trigger
        id:
        - On 00:00 of every hour
        - On 00:30 of every hour
      sequence:
      - if:
        - condition: and
          conditions:
          - condition: time
            after: '20:00:00'
            before: '23:59:59'
          - condition: state
            entity_id: sensor.days_until_waste_day_solid
            state: Tomorrow
          - condition: state
            entity_id: input_boolean.snooze_waste_reminder_take_out
            state: 'off'
          - condition: state
            entity_id: input_boolean.reminder_waste_take_out_solid
            state: 'on'
        then:
        - action: script.push_notification_to_ios_devices
          metadata: {}
          data:
            notification_type: type_warning
            interruption_level: time-sensitive
            notification_actions:
            - action: COMPLETE_WASTE_TAKE_OUT
              title: Done
              icon: sfsymbols:checkmark
            - action: SNOOZE_WASTE_TAKE_OUT
              title: Snooze
              icon: sfsymbols:xmark
              destructive: true
            message: Don't forget to take the garbage out to the curb.
            subtitle: 'Reminder:'
      alias: 'TAKE OUT: When Unfinished Send Notification'
    - conditions:
      - condition: trigger
        id:
        - Bring In Schedule Turned ON
      sequence:
      - metadata: {}
        data: {}
        target:
          entity_id:
          - input_boolean.reminder_waste_bring_in_solid
        action: input_boolean.turn_on
      alias: 'BRING IN: Turn Flag ON'
    - conditions:
      - condition: trigger
        id:
        - On 00:00 of every hour
        - On 00:30 of every hour
      sequence:
      - if:
        - condition: and
          conditions:
          - condition: time
            after: '16:00:00'
            before: '19:59:59'
          - condition: or
            conditions:
            - condition: state
              entity_id: sensor.days_until_waste_day_solid
              state: Now
            - condition: state
              entity_id: sensor.days_until_waste_day_solid
              state: Today
          - condition: state
            entity_id: input_boolean.snooze_waste_reminder_bring_in
            state: 'off'
          - condition: state
            entity_id: input_boolean.reminder_waste_bring_in_solid
            state: 'on'
        then:
        - action: script.push_notification_to_ios_devices
          metadata: {}
          data:
            notification_type: type_warning
            interruption_level: time-sensitive
            notification_actions:
            - action: COMPLETE_WASTE_BRING_IN
              title: Done
              icon: sfsymbols:checkmark
            - action: SNOOZE_WASTE_BRING_IN
              title: Snooze
              icon: sfsymbols:xmark
              destructive: true
            message: Don't forget to bring in the garbage cans.
            subtitle: 'Reminder:'
      alias: 'BRING IN: When Unfinished Send Notification'
  mode: single
- id: '1727554558172'
  alias: Waste, Recycle
  description: ''
  trigger:
  - platform: state
    entity_id:
    - schedule.waste_take_out_recycle
    from: 'off'
    to: 'on'
    id: Take Out Schedule Turned ON
  - platform: state
    entity_id:
    - schedule.waste_bring_in_recycle
    from: 'off'
    to: 'on'
    id: Bring In Schedule Turned ON
  - platform: time_pattern
    minutes: '00'
    id: On 00:00 of every hour
  - platform: time_pattern
    minutes: '30'
    id: On 00:30 of every hour
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id: ''
      sequence:
      - metadata: {}
        data: {}
        target:
          entity_id:
          - input_boolean.reminder_waste_take_out_recycle
        action: input_boolean.turn_on
      alias: 'TAKE OUT: Turn Flag ON'
    - conditions:
      - condition: trigger
        id: ''
      sequence:
      - if:
        - condition: and
          conditions:
          - condition: time
            after: '20:00:00'
            before: '23:59:59'
          - condition: state
            entity_id: sensor.days_until_waste_day_recycle
            state: Tomorrow
          - condition: state
            entity_id: input_boolean.snooze_waste_reminder_take_out
            state: 'off'
          - condition: state
            entity_id: input_boolean.reminder_waste_take_out_recycle
            state: 'on'
        then:
        - action: script.push_notification_to_ios_devices
          metadata: {}
          data:
            notification_type: type_warning
            interruption_level: time-sensitive
            notification_actions:
            - action: COMPLETE_RECYCLE_TAKE_OUT
              title: Done
              icon: sfsymbols:checkmark
            - action: SNOOZE_RECYCLE_TAKE_OUT
              title: Snooze
              icon: sfsymbols:xmark
              destructive: true
            message: Don't forget to take the recycling out to the curb.
            subtitle: 'Reminder:'
      alias: 'TAKE OUT: When Unfinished Send Notification'
    - conditions:
      - condition: trigger
        id:
        - Bring In Schedule Turned ON
      sequence:
      - metadata: {}
        data: {}
        target:
          entity_id:
          - input_boolean.reminder_waste_bring_in_recycle
        action: input_boolean.turn_on
      alias: 'BRING IN: Turn Flag ON'
    - conditions:
      - condition: trigger
        id:
        - On 00:00 of every hour
        - On 00:30 of every hour
      sequence:
      - if:
        - condition: and
          conditions:
          - condition: time
            after: '16:00:00'
            before: '19:59:59'
          - condition: or
            conditions:
            - condition: state
              entity_id: sensor.days_until_waste_day_recycle
              state: Now
            - condition: state
              entity_id: sensor.days_until_waste_day_recycle
              state: Today
          - condition: state
            entity_id: input_boolean.snooze_waste_reminder_bring_in
            state: 'off'
          - condition: state
            entity_id: input_boolean.reminder_waste_bring_in_recycle
            state: 'on'
        then:
        - action: script.push_notification_to_ios_devices
          metadata: {}
          data:
            notification_type: type_warning
            interruption_level: time-sensitive
            notification_actions:
            - action: COMPLETE_RECYCLE_BRING_IN
              title: Done
              icon: sfsymbols:checkmark
            - action: SNOOZE_RECYCLE_BRING_IN
              title: Snooze
              icon: sfsymbols:xmark
              destructive: true
            message: Don't forget to take the recycling to the drop-off center.
            subtitle: 'Reminder:'
      alias: 'BRING IN: When Unfinished Send Notification'
  mode: single
- id: '1727572209216'
  alias: Battery Low Level Detection
  description: ''
  use_blueprint:
    path: maxson/battery_level.yaml
    input:
      exclude:
      - sensor.vibration_battery_kitchen_island
      - sensor.blinds_kitchen_battery
      - sensor.blinds_bedroom_4_battery
      - sensor.bedroom_1_large_window_left_battery
      - sensor.bedroom_1_large_window_right_battery
      - sensor.toothbrush_j_battery
      - sensor.toothbrush_t_battery
      - sensor.toms_iphone_battery_level
      - sensor.toms_iphone_watch_battery
      - sensor.jess_iphone_battery_level
      - sensor.jess_iphone_watch_battery
      - sensor.leo_personal_iphone_battery_level
      - sensor.leo_business_battery_level
      - sensor.tatis_iphone_battery_level
      - sensor.fire_tablet_battery
      - sensor.tablet_johan_browser_battery
      - sensor.chrome_desktop_work_tom_browser_battery
      - sensor.chrome_laptop_personal_tom_browser_battery
      bullet: 
      actions:
      - action: script.push_notification_to_ios_devices
        metadata: {}
        data:
          notification_type: type_warning
          interruption_level: active
          message: 'Replace the following batteries soon:

            {{sensors}}'
      threshold: 35
      time: '18:00:00'
      message: '[% bullet %] [% sensor %] ([% state %]%) '
- id: '1727609900602'
  alias: Dishwasher
  description: ''
  trigger:
  - platform: numeric_state
    entity_id:
    - sensor.plug_dishwasher_power
    above: 1
    id: Dishwasher Powered ON
  - platform: numeric_state
    entity_id:
    - sensor.plug_dishwasher_power
    id: Dishwasher Powered OFF
    below: 1
    for:
      hours: 0
      minutes: 10
      seconds: 0
  - platform: state
    entity_id:
    - binary_sensor.door_dishwasher
    from: 'off'
    to: 'on'
    id: Dishwasher Door Did OPEN
  - platform: state
    entity_id:
    - input_boolean.reminder_dishwasher_complete
    from: 'on'
    to: 'off'
    id: Dishwasher Reminder Was DISMISSED
  - platform: state
    entity_id:
    - input_select.status_dishwasher
    to: Complete
    id: Dishwasher Reminder is COMPLETE
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Dishwasher Powered ON
      sequence:
      - if:
        - condition: not
          conditions:
          - condition: state
            entity_id: input_select.status_dishwasher
            state: Running
        then:
        - action: input_select.select_option
          metadata: {}
          data:
            option: Running
          target:
            entity_id: input_select.status_dishwasher
    - conditions:
      - condition: trigger
        id:
        - Dishwasher Powered OFF
      sequence:
      - if:
        - condition: state
          entity_id: input_select.status_dishwasher
          state: Running
        then:
        - action: input_select.select_option
          metadata: {}
          data:
            option: Complete
          target:
            entity_id: input_select.status_dishwasher
    - conditions:
      - condition: trigger
        id:
        - Dishwasher Door Did OPEN
        - Dishwasher Reminder Was DISMISSED
      sequence:
      - action: input_select.select_option
        metadata: {}
        data:
          option: Idle
        target:
          entity_id: input_select.status_dishwasher
      - action: input_boolean.turn_off
        metadata: {}
        data: {}
        target:
          entity_id: input_boolean.reminder_dishwasher_complete
    - conditions:
      - condition: trigger
        id:
        - Dishwasher Reminder is COMPLETE
      sequence:
      - if:
        - condition: time
          after: 07:00:00
          before: '23:00:00'
        then:
        - repeat:
            sequence:
            - action: script.amazon_echo_announcement
              metadata: {}
              data:
                message: Your dishes are clean and are ready to be put away.
            - delay:
                hours: 0
                minutes: 20
                seconds: 0
                milliseconds: 0
            until:
            - condition: and
              conditions:
              - condition: state
                entity_id: input_boolean.reminder_dishwasher_complete
                state: 'off'
                for:
                  hours: 0
                  minutes: 0
                  seconds: 0
              - condition: state
                entity_id: input_select.status_dishwasher
                state: Complete
        else:
        - action: input_boolean.turn_off
          metadata: {}
          data: {}
          target:
            entity_id: input_boolean.reminder_dishwasher_complete
  mode: single
- id: '1727611735991'
  alias: Run at 1:00am
  description: ''
  trigger:
  - platform: time
    at: 01:00:00
  - platform: state
    entity_id:
    - input_button.trigger_midnight_automations_run
    enabled: false
  condition: []
  action:
  - action: input_boolean.turn_on
    target:
      entity_id:
      - input_boolean.sidebar_display_recycle_reminder
      - input_boolean.sidebar_display_waste_reminder
    data: {}
  - action: input_boolean.turn_off
    target:
      entity_id:
      - input_boolean.reminder_toothbrush_complete_jessica
      - input_boolean.reminder_toothbrush_complete_thomas
      - input_boolean.reminder_waste_take_out_bulk
      - input_boolean.reminder_waste_bring_in_recycle
      - input_boolean.reminder_waste_take_out_recycle
      - input_boolean.reminder_waste_bring_in_solid
      - input_boolean.reminder_waste_take_out_solid
      - input_boolean.snooze_notify_doorbell_motion
      - input_boolean.snooze_notify_front_door_unlocked
      - input_boolean.snooze_notify_garage_open
      - input_boolean.snooze_notify_household_activity
      - input_boolean.snooze_recycle_reminder_bring_in
      - input_boolean.snooze_recycle_reminder_take_out
      - input_boolean.snooze_waste_reminder_bring_in
      - input_boolean.snooze_waste_reminder_take_out
      - input_boolean.reminder_toothbrush_snoozed_jessica
      - input_boolean.reminder_toothbrush_snoozed_thomas
      - input_boolean.reminder_medicine_morning_snoozed_jessica
      - input_boolean.reminder_medicine_morning_snoozed_thomas
      - input_boolean.reminder_medicine_afternoon_snoozed_jessica
      - input_boolean.reminder_medicine_afternoon_snoozed_thomas
      - input_boolean.reminder_medicine_evening_snoozed_jessica
      - input_boolean.reminder_medicine_evening_snoozed_thomas
      - input_boolean.reminder_medicine_snoozed_gouda
    data: {}
  mode: single
- id: '1727612005386'
  alias: Run at 1:00pm
  description: ''
  trigger:
  - platform: time
    at: '13:00:00'
  condition: []
  action:
  - action: input_boolean.turn_off
    target:
      entity_id:
      - input_boolean.reminder_toothbrush_snoozed_jessica
      - input_boolean.reminder_toothbrush_snoozed_thomas
      - input_boolean.reminder_toothbrush_complete_jessica
      - input_boolean.reminder_toothbrush_complete_thomas
    data: {}
  mode: single
- id: '1727629160872'
  alias: Tumble Dryer
  description: ''
  trigger:
  - platform: state
    entity_id:
    - sensor.laundry_dryer_machine_state
    to: Standby
    id: Dryer State is STANDBY
  - platform: state
    entity_id:
    - sensor.laundry_dryer_machine_state
    to: Run
    id: Dryer State is RUN
  - platform: state
    entity_id:
    - sensor.laundry_dryer_machine_state
    to: FInished
    id: Dryer State is FINISHED
  - platform: state
    entity_id:
    - sensor.laundry_dryer_machine_state
    to: 'Off'
    id: Dryer State is OFF
  - platform: state
    entity_id:
    - sensor.laundry_dryer_machine_state
    to: FInished
    id: Dryer Status is FINISHED
    from: Run
  - platform: state
    entity_id:
    - binary_sensor.laundry_dryer_door
    from: 'off'
    to: 'on'
    id: Dryer Door did OPEN
  condition: []
  action:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Dryer State is RUN
      - condition: state
        entity_id: input_text.laundry_dryer_original_duration
        state: ''
      sequence:
      - action: input_text.set_value
        metadata: {}
        data:
          value: '{{ states( ''sensor.laundry_dryer_time_remaining'' ) }}'
        target:
          entity_id: input_text.laundry_dryer_original_duration
      alias: STORE Original Duration
    - conditions:
      - condition: trigger
        id:
        - Dryer State is OFF
        - Dryer State is STANDBY
        - Dryer State is FINISHED
      sequence:
      - action: input_text.set_value
        metadata: {}
        data:
          value: ''
        target:
          entity_id: input_text.laundry_dryer_original_duration
      - if:
        - condition: trigger
          id:
          - Dryer Status is FINISHED
        - condition: time
          after: 07:00:00
          before: '23:00:00'
        then:
        - action: input_boolean.turn_on
          target:
            entity_id:
            - input_boolean.reminder_laundry_complete_dryer
          data: {}
        - repeat:
            sequence:
            - action: script.amazon_echo_announcement
              metadata: {}
              data:
                message: Your dried clothes are ready to be folded.
            - delay:
                hours: 0
                minutes: 20
                seconds: 0
                milliseconds: 0
            until:
            - condition: state
              entity_id: input_boolean.reminder_laundry_complete_dryer
              state: 'off'
              for:
                hours: 0
                minutes: 0
                seconds: 0
      alias: CLEAR Original Duration, Maybe Send Notification
    - conditions:
      - condition: trigger
        id:
        - Dryer Door did OPEN
      - condition: or
        conditions:
        - condition: state
          entity_id: sensor.laundry_dryer_machine_state
          state: 'Off'
        - condition: state
          entity_id: sensor.laundry_dryer_machine_state
          state: Standby
        - condition: state
          entity_id: sensor.laundry_dryer_machine_state
          state: Finished
      - condition: state
        entity_id: input_boolean.reminder_laundry_complete_dryer
        state: 'on'
      sequence:
      - action: input_boolean.turn_off
        metadata: {}
        data: {}
        target:
          entity_id: input_boolean.reminder_laundry_complete_dryer
      alias: Dryer Door Did OPEN
  mode: single
- id: '1727634353709'
  alias: Backups Gone Stale
  description: ''
  trigger:
  - platform: state
    entity_id:
    - binary_sensor.backups_stale
    from: 'off'
    to: 'on'
  condition: []
  action:
  - action: script.push_notification_to_ios_devices
    metadata: {}
    data:
      notification_type: type_warning
      interruption_level: active
      message: An error occurred while running Google Drive backups.
  - action: persistent_notification.create
    metadata: {}
    data:
      message: An error occurred while running Google Drive backups.
      title: Warning
  mode: single
- id: '1727635161006'
  alias: Person Arrives Home Late
  description: ''
  trigger:
  - platform: zone
    entity_id: person.thomas
    zone: zone.regency_lakes
    event: enter
    id: Enter Neighborhood - Thomas
  - platform: zone
    entity_id: person.jessica
    zone: zone.regency_lakes
    event: enter
    id: Enter Neighborhood - Jessica
  condition: []
  action:
  - if:
    - condition: sun
      before: sunrise
      after: sunset
    - condition: or
      conditions:
      - condition: and
        conditions:
        - condition: trigger
          id:
          - Enter Neighborhood - Thomas
        - condition: not
          conditions:
          - condition: state
            entity_id: person.jessica
            state: home
      - condition: and
        conditions:
        - condition: trigger
          id:
          - Enter Neighborhood - Jessica
        - condition: not
          conditions:
          - condition: state
            entity_id: person.thomas
            state: home
    then:
    - if:
      - condition: state
        entity_id: light.bedroom_1_bedside_lamps
        state: 'off'
      then:
      - action: light.turn_on
        metadata: {}
        data:
          brightness_pct: 40
        target:
          entity_id:
          - light.bedroom_1_bedside_lamps
    - if:
      - condition: state
        entity_id: light.foyer_ceiling_ledge
        state: 'off'
      then:
      - action: light.turn_on
        metadata: {}
        data:
          brightness_pct: 40
        target:
          entity_id: light.foyer_ceiling_ledge
  mode: single
